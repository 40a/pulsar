

<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">


<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    
    <title>Actors API &mdash; pulsar 1.5.0 documentation</title>
    
    <link rel="stylesheet" href="../static/alabaster.css" type="text/css" />
    <link rel="stylesheet" href="../static/pygments.css" type="text/css" />
    <link rel="stylesheet" href="../static/pulsar.css" type="text/css" />
    
    <script type="text/javascript">
      var DOCUMENTATION_OPTIONS = {
        URL_ROOT:    '../',
        VERSION:     '1.5.0',
        COLLAPSE_INDEX: false,
        FILE_SUFFIX: '.html',
        HAS_SOURCE:  true
      };
    </script>
    <script type="text/javascript" src="../static/jquery.js"></script>
    <script type="text/javascript" src="../static/underscore.js"></script>
    <script type="text/javascript" src="../static/doctools.js"></script>
    <link rel="shortcut icon" href="../static/favicon.ico"/>
    <link rel="top" title="pulsar 1.5.0 documentation" href="../index.html" />
    <link rel="up" title="API" href="index.html" />
    <link rel="next" title="Event API" href="events.html" />
    <link rel="prev" title="Asynchronous API" href="async.html" />
   
  
  <meta name="viewport" content="width=device-width, initial-scale=0.9, maximum-scale=0.9" />

  </head>
  <body role="document">  

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          <div class="body" role="main">
            
  <span class="target" id="module-pulsar.async.actor"></span><div class="section" id="actors-api">
<span id="actor-api"></span><h1>Actors API<a class="headerlink" href="#actors-api" title="Permalink to this headline">¶</a></h1>
<p>For an overview of pulsar <a class="reference internal" href="#pulsar.async.actor.Actor" title="pulsar.async.actor.Actor"><code class="xref py py-class docutils literal"><span class="pre">Actor</span></code></a>
check out the <a class="reference internal" href="../design.html#design-actor"><span>design documentation</span></a>.</p>
<div class="section" id="high-level-functions">
<h2>High Level Functions<a class="headerlink" href="#high-level-functions" title="Permalink to this headline">¶</a></h2>
<div class="section" id="spawn">
<span id="spawn-function"></span><h3>spawn<a class="headerlink" href="#spawn" title="Permalink to this headline">¶</a></h3>
<dl class="function">
<dt id="pulsar.async.actor.spawn">
<code class="descclassname">pulsar.async.actor.</code><code class="descname">spawn</code><span class="sig-paren">(</span><em>**kwargs</em><span class="sig-paren">)</span><a class="reference internal" href="../modules/pulsar/async/actor.html#spawn"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pulsar.async.actor.spawn" title="Permalink to this definition">¶</a></dt>
<dd><p>Spawn a new <a class="reference internal" href="#pulsar.async.actor.Actor" title="pulsar.async.actor.Actor"><code class="xref py py-class docutils literal"><span class="pre">Actor</span></code></a> and return an <a class="reference external" href="http://python.readthedocs.org/en/latest/library/asyncio-task.html#asyncio.Future" title="(in Python v3.6)"><code class="xref py py-class docutils literal"><span class="pre">Future</span></code></a>.</p>
<p><strong>Parameter kwargs</strong></p>
<p>These optional parameters are:</p>
<ul class="simple">
<li><code class="docutils literal"><span class="pre">aid</span></code> the actor id</li>
<li><code class="docutils literal"><span class="pre">name</span></code> the actor name</li>
<li><a class="reference internal" href="../design.html#actor-hooks"><span>actor hooks</span></a> such as <code class="docutils literal"><span class="pre">start</span></code>, <code class="docutils literal"><span class="pre">stopping</span></code>
and <code class="docutils literal"><span class="pre">periodic_task</span></code></li>
</ul>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Returns:</th><td class="field-body">an <a class="reference external" href="http://python.readthedocs.org/en/latest/library/asyncio-task.html#asyncio.Future" title="(in Python v3.6)"><code class="xref py py-class docutils literal"><span class="pre">Future</span></code></a>.</td>
</tr>
</tbody>
</table>
<p>A typical usage:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">&gt;&gt;&gt; </span><span class="k">def</span> <span class="nf">do_something</span><span class="p">(</span><span class="n">actor</span><span class="p">):</span>
<span class="go">        ...</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">a</span> <span class="o">=</span> <span class="n">spawn</span><span class="p">(</span><span class="n">start</span><span class="o">=</span><span class="n">do_something</span><span class="p">,</span> <span class="o">...</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">a</span><span class="o">.</span><span class="n">aid</span>
<span class="go">&#39;ba42b02b&#39;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">a</span><span class="o">.</span><span class="n">called</span>
<span class="go">True</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">p</span> <span class="o">=</span> <span class="n">a</span><span class="o">.</span><span class="n">result</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">p</span><span class="o">.</span><span class="n">address</span>
<span class="go">(&#39;127.0.0.1&#39;, 46691)</span>
</pre></div>
</div>
</dd></dl>

</div>
<div class="section" id="send">
<span id="send-function"></span><h3>send<a class="headerlink" href="#send" title="Permalink to this headline">¶</a></h3>
<dl class="function">
<dt id="pulsar.async.actor.send">
<code class="descclassname">pulsar.async.actor.</code><code class="descname">send</code><span class="sig-paren">(</span><em>target</em>, <em>action</em>, <em>*args</em>, <em>**params</em><span class="sig-paren">)</span><a class="reference internal" href="../modules/pulsar/async/actor.html#send"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pulsar.async.actor.send" title="Permalink to this definition">¶</a></dt>
<dd><p>Send a <a class="reference internal" href="#api-remote-commands"><span>message</span></a> to <code class="docutils literal"><span class="pre">target</span></code></p>
<p>The message is to perform a given <code class="docutils literal"><span class="pre">action</span></code>. The actor sending the
message is obtained via the <a class="reference internal" href="#pulsar.async.actor.get_actor" title="pulsar.async.actor.get_actor"><code class="xref py py-func docutils literal"><span class="pre">get_actor()</span></code></a> function.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>target</strong> &#8211; the <a class="reference internal" href="#pulsar.async.actor.Actor" title="pulsar.async.actor.Actor"><code class="xref py py-class docutils literal"><span class="pre">Actor</span></code></a> id or an <a class="reference internal" href="#pulsar.async.proxy.ActorProxy" title="pulsar.async.proxy.ActorProxy"><code class="xref py py-class docutils literal"><span class="pre">ActorProxy</span></code></a> or
name of the target actor which will receive the message.</li>
<li><strong>action</strong> &#8211; the <a class="reference internal" href="#api-remote-commands"><span>remote command</span></a>
to perform in the <code class="docutils literal"><span class="pre">target</span></code> <a class="reference internal" href="#pulsar.async.actor.Actor" title="pulsar.async.actor.Actor"><code class="xref py py-class docutils literal"><span class="pre">Actor</span></code></a>.</li>
<li><strong>args</strong> &#8211; positional arguments to pass to the
<a class="reference internal" href="#api-remote-commands"><span>remote command</span></a> <code class="docutils literal"><span class="pre">action</span></code>.</li>
<li><strong>params</strong> &#8211; dictionary of parameters to pass to
<a class="reference internal" href="#api-remote-commands"><span>remote command</span></a> <code class="docutils literal"><span class="pre">action</span></code>.</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first last">an <a class="reference external" href="http://python.readthedocs.org/en/latest/library/asyncio-task.html#asyncio.Future" title="(in Python v3.6)"><code class="xref py py-class docutils literal"><span class="pre">Future</span></code></a> if the action acknowledge the
caller or <cite>None</cite>.</p>
</td>
</tr>
</tbody>
</table>
<p>Typical example:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">&gt;&gt;&gt; </span><span class="n">r</span> <span class="o">=</span> <span class="n">send</span><span class="p">(</span><span class="n">p</span><span class="p">,</span><span class="s1">&#39;ping&#39;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">r</span><span class="o">.</span><span class="n">result</span><span class="p">()</span>
<span class="go">&#39;pong&#39;</span>
</pre></div>
</div>
</dd></dl>

</div>
<div class="section" id="get-actor">
<h3>get_actor<a class="headerlink" href="#get-actor" title="Permalink to this headline">¶</a></h3>
<dl class="function">
<dt id="pulsar.async.actor.get_actor">
<code class="descclassname">pulsar.async.actor.</code><code class="descname">get_actor</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="../modules/pulsar/async/access.html#get_actor"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pulsar.async.actor.get_actor" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns the <a class="reference internal" href="#pulsar.async.actor.Actor" title="pulsar.async.actor.Actor"><code class="xref py py-class docutils literal"><span class="pre">Actor</span></code></a> controlling the current thread.
Returns <code class="docutils literal"><span class="pre">None</span></code> if no actor is available.</p>
</dd></dl>

</div>
<div class="section" id="arbiter">
<h3>arbiter<a class="headerlink" href="#arbiter" title="Permalink to this headline">¶</a></h3>
<dl class="function">
<dt id="pulsar.async.concurrency.arbiter">
<code class="descclassname">pulsar.async.concurrency.</code><code class="descname">arbiter</code><span class="sig-paren">(</span><em>**params</em><span class="sig-paren">)</span><a class="reference internal" href="../modules/pulsar/async/concurrency.html#arbiter"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pulsar.async.concurrency.arbiter" title="Permalink to this definition">¶</a></dt>
<dd><p>Obtain the <code class="docutils literal"><span class="pre">arbiter</span></code>.</p>
<p>It returns the arbiter instance only if we are on the arbiter
context domain, otherwise it returns nothing.</p>
</dd></dl>

</div>
</div>
<div class="section" id="actor">
<span id="api-actors"></span><h2>Actor<a class="headerlink" href="#actor" title="Permalink to this headline">¶</a></h2>
<p>At the core of the library we have the <a class="reference internal" href="#pulsar.async.actor.Actor" title="pulsar.async.actor.Actor"><code class="xref py py-class docutils literal"><span class="pre">Actor</span></code></a> class which defines
the primitive of pulsar concurrent framework. Actor&#8217;s instances communicate
with each other via messages in a <em>share-nothing architecture</em>.</p>
<dl class="class">
<dt id="pulsar.async.actor.Actor">
<em class="property">class </em><code class="descclassname">pulsar.async.actor.</code><code class="descname">Actor</code><span class="sig-paren">(</span><em>impl</em><span class="sig-paren">)</span><a class="reference internal" href="../modules/pulsar/async/actor.html#Actor"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pulsar.async.actor.Actor" title="Permalink to this definition">¶</a></dt>
<dd><p>The base class for parallel execution in pulsar.</p>
<p>In computer science, the <strong>Actor model</strong> is a mathematical model
of concurrent computation that treats <em>actors</em> as the universal primitives
of computation.
In response to a message that it receives, an actor can make local
decisions, create more actors, send more messages, and determine how
to respond to the next message received.</p>
<p>The current implementation allows for actors to perform specific tasks
such as listening to a socket, acting as http server, consuming
a task queue and so forth.</p>
<p>To spawn a new actor:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">pulsar</span> <span class="kn">import</span> <span class="n">spawn</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">a</span> <span class="o">=</span> <span class="n">spawn</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">a</span><span class="o">.</span><span class="n">is_alive</span><span class="p">()</span>
<span class="go">True</span>
</pre></div>
</div>
<p>Here <code class="docutils literal"><span class="pre">a</span></code> is actually a reference to the remote actor, it is
an <a class="reference internal" href="#pulsar.async.proxy.ActorProxy" title="pulsar.async.proxy.ActorProxy"><code class="xref py py-class docutils literal"><span class="pre">ActorProxy</span></code></a>.</p>
<p><strong>ATTRIBUTES</strong></p>
<dl class="attribute">
<dt id="pulsar.async.actor.Actor.name">
<code class="descname">name</code><a class="headerlink" href="#pulsar.async.actor.Actor.name" title="Permalink to this definition">¶</a></dt>
<dd><p>The name of this <a class="reference internal" href="#pulsar.async.actor.Actor" title="pulsar.async.actor.Actor"><code class="xref py py-class docutils literal"><span class="pre">Actor</span></code></a>.</p>
</dd></dl>

<dl class="attribute">
<dt id="pulsar.async.actor.Actor.aid">
<code class="descname">aid</code><a class="headerlink" href="#pulsar.async.actor.Actor.aid" title="Permalink to this definition">¶</a></dt>
<dd><p>Unique ID for this <a class="reference internal" href="#pulsar.async.actor.Actor" title="pulsar.async.actor.Actor"><code class="xref py py-class docutils literal"><span class="pre">Actor</span></code></a>.</p>
</dd></dl>

<dl class="attribute">
<dt id="pulsar.async.actor.Actor.impl">
<code class="descname">impl</code><a class="headerlink" href="#pulsar.async.actor.Actor.impl" title="Permalink to this definition">¶</a></dt>
<dd><p>The <a class="reference internal" href="#pulsar.async.concurrency.Concurrency" title="pulsar.async.concurrency.Concurrency"><code class="xref py py-class docutils literal"><span class="pre">Concurrency</span></code></a> implementation for this <a class="reference internal" href="#pulsar.async.actor.Actor" title="pulsar.async.actor.Actor"><code class="xref py py-class docutils literal"><span class="pre">Actor</span></code></a>.</p>
</dd></dl>

<dl class="attribute">
<dt id="pulsar.async.actor.Actor._loop">
<code class="descname">_loop</code><a class="headerlink" href="#pulsar.async.actor.Actor._loop" title="Permalink to this definition">¶</a></dt>
<dd><p>An <a class="reference external" href="http://python.readthedocs.org/en/latest/library/asyncio-eventloop.html#asyncio-event-loop" title="(in Python v3.6)"><span class="xref std std-ref">event loop</span></a> which listen
for input/output events on sockets or socket-like objects.
It is the driver of the <a class="reference internal" href="#pulsar.async.actor.Actor" title="pulsar.async.actor.Actor"><code class="xref py py-class docutils literal"><span class="pre">Actor</span></code></a>.
If the <a class="reference internal" href="#pulsar.async.actor.Actor._loop" title="pulsar.async.actor.Actor._loop"><code class="xref py py-attr docutils literal"><span class="pre">_loop</span></code></a> stops, the <a class="reference internal" href="#pulsar.async.actor.Actor" title="pulsar.async.actor.Actor"><code class="xref py py-class docutils literal"><span class="pre">Actor</span></code></a> stops
running and goes out of scope.</p>
</dd></dl>

<dl class="attribute">
<dt id="pulsar.async.actor.Actor.mailbox">
<code class="descname">mailbox</code><a class="headerlink" href="#pulsar.async.actor.Actor.mailbox" title="Permalink to this definition">¶</a></dt>
<dd><p>Used to send and receive <a class="reference internal" href="../tutorials/messages.html#tutorials-messages"><span>actor messages</span></a>.</p>
</dd></dl>

<dl class="attribute">
<dt id="pulsar.async.actor.Actor.address">
<code class="descname">address</code><a class="headerlink" href="#pulsar.async.actor.Actor.address" title="Permalink to this definition">¶</a></dt>
<dd><p>The socket address for this <a class="reference internal" href="#pulsar.async.actor.Actor.mailbox" title="pulsar.async.actor.Actor.mailbox"><code class="xref py py-attr docutils literal"><span class="pre">Actor.mailbox</span></code></a>.</p>
</dd></dl>

<dl class="attribute">
<dt id="pulsar.async.actor.Actor.proxy">
<code class="descname">proxy</code><a class="headerlink" href="#pulsar.async.actor.Actor.proxy" title="Permalink to this definition">¶</a></dt>
<dd><p>Instance of a <a class="reference internal" href="#pulsar.async.proxy.ActorProxy" title="pulsar.async.proxy.ActorProxy"><code class="xref py py-class docutils literal"><span class="pre">ActorProxy</span></code></a> holding a reference
to this <a class="reference internal" href="#pulsar.async.actor.Actor" title="pulsar.async.actor.Actor"><code class="xref py py-class docutils literal"><span class="pre">Actor</span></code></a>. The proxy is a lightweight representation
of the actor which can be shared across different processes
(i.e. it is picklable).</p>
</dd></dl>

<dl class="attribute">
<dt id="pulsar.async.actor.Actor.state">
<code class="descname">state</code><a class="headerlink" href="#pulsar.async.actor.Actor.state" title="Permalink to this definition">¶</a></dt>
<dd><p>The actor <a class="reference internal" href="#actor-states"><span>numeric state</span></a>.</p>
</dd></dl>

<dl class="attribute">
<dt id="pulsar.async.actor.Actor.extra">
<code class="descname">extra</code><a class="headerlink" href="#pulsar.async.actor.Actor.extra" title="Permalink to this definition">¶</a></dt>
<dd><p>A dictionary which can be populated with extra parameters useful
for other actors. This dictionary is included in the dictionary
returned by the <a class="reference internal" href="#pulsar.async.actor.Actor.info" title="pulsar.async.actor.Actor.info"><code class="xref py py-meth docutils literal"><span class="pre">info()</span></code></a> method.
Check the <a class="reference internal" href="../design.html#actor-info-command"><span>info command</span></a> for how to obtain
information about an actor.</p>
</dd></dl>

<dl class="attribute">
<dt id="pulsar.async.actor.Actor.info_state">
<code class="descname">info_state</code><a class="headerlink" href="#pulsar.async.actor.Actor.info_state" title="Permalink to this definition">¶</a></dt>
<dd><p>Current state description string. One of <code class="docutils literal"><span class="pre">initial</span></code>, <code class="docutils literal"><span class="pre">running</span></code>,
<code class="docutils literal"><span class="pre">stopping</span></code>, <code class="docutils literal"><span class="pre">closed</span></code> and <code class="docutils literal"><span class="pre">terminated</span></code>.</p>
</dd></dl>

<dl class="attribute">
<dt id="pulsar.async.actor.Actor.next_periodic_task">
<code class="descname">next_periodic_task</code><a class="headerlink" href="#pulsar.async.actor.Actor.next_periodic_task" title="Permalink to this definition">¶</a></dt>
<dd><p>The <a class="reference external" href="http://python.readthedocs.org/en/latest/library/asyncio-eventloop.html#asyncio.Handle" title="(in Python v3.6)"><code class="xref py py-class docutils literal"><span class="pre">asyncio.Handle</span></code></a> for the next
<a class="reference internal" href="../design.html#actor-periodic-task"><span>actor periodic task</span></a>.</p>
</dd></dl>

<dl class="attribute">
<dt id="pulsar.async.actor.Actor.stream">
<code class="descname">stream</code><a class="headerlink" href="#pulsar.async.actor.Actor.stream" title="Permalink to this definition">¶</a></dt>
<dd><p>A <code class="docutils literal"><span class="pre">stream</span></code> handler to write information messages without using
the <a class="reference internal" href="async.html#pulsar.async.futures.AsyncObject.logger" title="pulsar.async.futures.AsyncObject.logger"><code class="xref py py-attr docutils literal"><span class="pre">logger</span></code></a>.</p>
</dd></dl>

<dl class="attribute">
<dt id="pulsar.async.actor.Actor.monitors">
<code class="descname">monitors</code><a class="headerlink" href="#pulsar.async.actor.Actor.monitors" title="Permalink to this definition">¶</a></dt>
<dd><p>Dictionary of monitors or None</p>
</dd></dl>

<dl class="attribute">
<dt id="pulsar.async.actor.Actor.managed_actors">
<code class="descname">managed_actors</code><a class="headerlink" href="#pulsar.async.actor.Actor.managed_actors" title="Permalink to this definition">¶</a></dt>
<dd><p>Dictionary of managed actors or None</p>
</dd></dl>

<dl class="attribute">
<dt id="pulsar.async.actor.Actor.registered">
<code class="descname">registered</code><a class="headerlink" href="#pulsar.async.actor.Actor.registered" title="Permalink to this definition">¶</a></dt>
<dd><p>Dictionary of registered actors or None</p>
</dd></dl>

<dl class="method">
<dt id="pulsar.async.actor.Actor.start">
<code class="descname">start</code><span class="sig-paren">(</span><em>exit=True</em><span class="sig-paren">)</span><a class="reference internal" href="../modules/pulsar/async/actor.html#Actor.start"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pulsar.async.actor.Actor.start" title="Permalink to this definition">¶</a></dt>
<dd><p>Called after forking to start the actor&#8217;s life.</p>
<p>This is where logging is configured, the <a class="reference internal" href="#pulsar.async.actor.Actor.mailbox" title="pulsar.async.actor.Actor.mailbox"><code class="xref py py-attr docutils literal"><span class="pre">mailbox</span></code></a> is
registered and the <a class="reference internal" href="#pulsar.async.actor.Actor._loop" title="pulsar.async.actor.Actor._loop"><code class="xref py py-attr docutils literal"><span class="pre">_loop</span></code></a> is initialised and
started. Calling this method more than once does nothing.</p>
</dd></dl>

<dl class="method">
<dt id="pulsar.async.actor.Actor.send">
<code class="descname">send</code><span class="sig-paren">(</span><em>target</em>, <em>action</em>, <em>*args</em>, <em>**kwargs</em><span class="sig-paren">)</span><a class="reference internal" href="../modules/pulsar/async/actor.html#Actor.send"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pulsar.async.actor.Actor.send" title="Permalink to this definition">¶</a></dt>
<dd><p>Send a message to <code class="docutils literal"><span class="pre">target</span></code> to perform <code class="docutils literal"><span class="pre">action</span></code> with given
positional <code class="docutils literal"><span class="pre">args</span></code> and key-valued <code class="docutils literal"><span class="pre">kwargs</span></code>.
Returns a coroutine or a Future.</p>
</dd></dl>

<dl class="method">
<dt id="pulsar.async.actor.Actor.spawn">
<code class="descname">spawn</code><span class="sig-paren">(</span><em>**params</em><span class="sig-paren">)</span><a class="reference internal" href="../modules/pulsar/async/actor.html#Actor.spawn"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pulsar.async.actor.Actor.spawn" title="Permalink to this definition">¶</a></dt>
<dd><p>Spawn a new actor</p>
</dd></dl>

<dl class="method">
<dt id="pulsar.async.actor.Actor.stop">
<code class="descname">stop</code><span class="sig-paren">(</span><em>exc=None</em>, <em>exit_code=None</em><span class="sig-paren">)</span><a class="reference internal" href="../modules/pulsar/async/actor.html#Actor.stop"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pulsar.async.actor.Actor.stop" title="Permalink to this definition">¶</a></dt>
<dd><p>Gracefully stop the <a class="reference internal" href="#pulsar.async.actor.Actor" title="pulsar.async.actor.Actor"><code class="xref py py-class docutils literal"><span class="pre">Actor</span></code></a>.</p>
<p>Implemented by the <a class="reference internal" href="#pulsar.async.concurrency.Concurrency.stop" title="pulsar.async.concurrency.Concurrency.stop"><code class="xref py py-meth docutils literal"><span class="pre">Concurrency.stop()</span></code></a> method of the <a class="reference internal" href="#pulsar.async.actor.Actor.impl" title="pulsar.async.actor.Actor.impl"><code class="xref py py-attr docutils literal"><span class="pre">impl</span></code></a>
attribute.</p>
</dd></dl>

<dl class="method">
<dt id="pulsar.async.actor.Actor.actorparams">
<code class="descname">actorparams</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="../modules/pulsar/async/actor.html#Actor.actorparams"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pulsar.async.actor.Actor.actorparams" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns a dictionary of parameters for spawning actors.</p>
<p>The dictionary is passed to the spawn method when creating new
actors. Fire the <a class="reference internal" href="../design.html#actor-hooks"><span>on_params actor hook</span></a>.</p>
</dd></dl>

<dl class="method">
<dt id="pulsar.async.actor.Actor.is_running">
<code class="descname">is_running</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="../modules/pulsar/async/actor.html#Actor.is_running"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pulsar.async.actor.Actor.is_running" title="Permalink to this definition">¶</a></dt>
<dd><p><code class="docutils literal"><span class="pre">True</span></code> if actor is running, that is when the <a class="reference internal" href="#pulsar.async.actor.Actor.state" title="pulsar.async.actor.Actor.state"><code class="xref py py-attr docutils literal"><span class="pre">state</span></code></a>
is equal to <a class="reference internal" href="#actor-states"><span>ACTOR_STATES.RUN</span></a> and the loop is
running.</p>
</dd></dl>

<dl class="method">
<dt id="pulsar.async.actor.Actor.started">
<code class="descname">started</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="../modules/pulsar/async/actor.html#Actor.started"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pulsar.async.actor.Actor.started" title="Permalink to this definition">¶</a></dt>
<dd><p><code class="docutils literal"><span class="pre">True</span></code> if actor has started.</p>
<p>It does not necessarily mean it is running.
Its state is greater or equal <a class="reference internal" href="#actor-states"><span>ACTOR_STATES.RUN</span></a>.</p>
</dd></dl>

<dl class="method">
<dt id="pulsar.async.actor.Actor.after_run">
<code class="descname">after_run</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="../modules/pulsar/async/actor.html#Actor.after_run"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pulsar.async.actor.Actor.after_run" title="Permalink to this definition">¶</a></dt>
<dd><p><code class="docutils literal"><span class="pre">True</span></code> when the actor is sopping or has already stopped</p>
</dd></dl>

<dl class="method">
<dt id="pulsar.async.actor.Actor.closed">
<code class="descname">closed</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="../modules/pulsar/async/actor.html#Actor.closed"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pulsar.async.actor.Actor.closed" title="Permalink to this definition">¶</a></dt>
<dd><p><code class="docutils literal"><span class="pre">True</span></code> if actor has exited in an clean fashion.</p>
<p>Its <a class="reference internal" href="#pulsar.async.actor.Actor.state" title="pulsar.async.actor.Actor.state"><code class="xref py py-attr docutils literal"><span class="pre">state</span></code></a> is <a class="reference internal" href="#actor-states"><span>ACTOR_STATES.CLOSE</span></a>.</p>
</dd></dl>

<dl class="method">
<dt id="pulsar.async.actor.Actor.stopped">
<code class="descname">stopped</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="../modules/pulsar/async/actor.html#Actor.stopped"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pulsar.async.actor.Actor.stopped" title="Permalink to this definition">¶</a></dt>
<dd><p><code class="docutils literal"><span class="pre">True</span></code> if actor has exited.</p>
<p>Its <a class="reference internal" href="#pulsar.async.actor.Actor.state" title="pulsar.async.actor.Actor.state"><code class="xref py py-attr docutils literal"><span class="pre">state</span></code></a> is greater or equal to
<a class="reference internal" href="#actor-states"><span>ACTOR_STATES.CLOSE</span></a>.</p>
</dd></dl>

<dl class="method">
<dt id="pulsar.async.actor.Actor.is_arbiter">
<code class="descname">is_arbiter</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="../modules/pulsar/async/actor.html#Actor.is_arbiter"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pulsar.async.actor.Actor.is_arbiter" title="Permalink to this definition">¶</a></dt>
<dd><p><code class="docutils literal"><span class="pre">True</span></code> if <code class="docutils literal"><span class="pre">self</span></code> is the <code class="docutils literal"><span class="pre">arbiter</span></code></p>
</dd></dl>

<dl class="method">
<dt id="pulsar.async.actor.Actor.is_monitor">
<code class="descname">is_monitor</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="../modules/pulsar/async/actor.html#Actor.is_monitor"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pulsar.async.actor.Actor.is_monitor" title="Permalink to this definition">¶</a></dt>
<dd><p><code class="docutils literal"><span class="pre">True</span></code> if <code class="docutils literal"><span class="pre">self</span></code> is a <code class="docutils literal"><span class="pre">monitor</span></code></p>
</dd></dl>

<dl class="method">
<dt id="pulsar.async.actor.Actor.is_process">
<code class="descname">is_process</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="../modules/pulsar/async/actor.html#Actor.is_process"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pulsar.async.actor.Actor.is_process" title="Permalink to this definition">¶</a></dt>
<dd><p>boolean indicating if this is an actor on a child process.</p>
</dd></dl>

<dl class="method">
<dt id="pulsar.async.actor.Actor.get_actor">
<code class="descname">get_actor</code><span class="sig-paren">(</span><em>aid</em>, <em>check_monitor=True</em><span class="sig-paren">)</span><a class="reference internal" href="../modules/pulsar/async/actor.html#Actor.get_actor"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pulsar.async.actor.Actor.get_actor" title="Permalink to this definition">¶</a></dt>
<dd><p>Given an actor unique id return the actor proxy.</p>
</dd></dl>

<dl class="method">
<dt id="pulsar.async.actor.Actor.info">
<code class="descname">info</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="../modules/pulsar/async/actor.html#Actor.info"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pulsar.async.actor.Actor.info" title="Permalink to this definition">¶</a></dt>
<dd><p>Return a nested dictionary of information related to the actor
status and performance. The dictionary contains the following entries:</p>
<ul class="simple">
<li><code class="docutils literal"><span class="pre">actor</span></code> a dictionary containing information regarding the type of
actor and its status.</li>
<li><code class="docutils literal"><span class="pre">events</span></code> a dictionary of information about the
<a class="reference external" href="http://python.readthedocs.org/en/latest/library/asyncio-eventloop.html#asyncio-event-loop" title="(in Python v3.6)"><span class="xref std std-ref">event loop</span></a> running the actor.</li>
<li><code class="docutils literal"><span class="pre">extra</span></code> the <a class="reference internal" href="#pulsar.async.actor.Actor.extra" title="pulsar.async.actor.Actor.extra"><code class="xref py py-attr docutils literal"><span class="pre">extra</span></code></a> attribute (you can use it to add stuff).</li>
<li><code class="docutils literal"><span class="pre">system</span></code> system info.</li>
</ul>
<p>This method is invoked when you run the
<a class="reference internal" href="../design.html#actor-info-command"><span>info command</span></a> from another actor.</p>
</dd></dl>

</dd></dl>

</div>
<div class="section" id="actor-internals">
<h2>Actor Internals<a class="headerlink" href="#actor-internals" title="Permalink to this headline">¶</a></h2>
<div class="section" id="actorproxy">
<h3>ActorProxy<a class="headerlink" href="#actorproxy" title="Permalink to this headline">¶</a></h3>
<dl class="class">
<dt id="pulsar.async.proxy.ActorProxy">
<em class="property">class </em><code class="descclassname">pulsar.async.proxy.</code><code class="descname">ActorProxy</code><span class="sig-paren">(</span><em>impl</em><span class="sig-paren">)</span><a class="reference internal" href="../modules/pulsar/async/proxy.html#ActorProxy"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pulsar.async.proxy.ActorProxy" title="Permalink to this definition">¶</a></dt>
<dd><p>A proxy for a remote <a class="reference internal" href="#pulsar.async.actor.Actor" title="pulsar.async.actor.Actor"><code class="xref py py-class docutils literal"><span class="pre">Actor</span></code></a>.</p>
<p>This is a lightweight class which delegates function calls to the
underlying remote object.</p>
<p>It is picklable and therefore can be send from actor to actor using
<a class="reference internal" href="../tutorials/messages.html#tutorials-messages"><span>actor message passing</span></a>.</p>
<p>For example, lets say we have a proxy <code class="docutils literal"><span class="pre">a</span></code>, to send a message to it:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="kn">from</span> <span class="nn">pulsar</span> <span class="kn">import</span> <span class="n">send</span>

<span class="n">send</span><span class="p">(</span><span class="n">a</span><span class="p">,</span> <span class="s1">&#39;echo&#39;</span><span class="p">,</span> <span class="s1">&#39;hello there!&#39;</span><span class="p">)</span>
</pre></div>
</div>
<p>will send the <a class="reference internal" href="../design.html#actor-commands"><span>command</span></a> <code class="docutils literal"><span class="pre">echo</span></code> to actor <code class="docutils literal"><span class="pre">a</span></code> with
parameter <code class="docutils literal"><span class="pre">&quot;hello</span> <span class="pre">there!&quot;</span></code>.</p>
<dl class="attribute">
<dt id="pulsar.async.actor.ActorProxy.aid">
<code class="descname">aid</code><a class="headerlink" href="#pulsar.async.actor.ActorProxy.aid" title="Permalink to this definition">¶</a></dt>
<dd><p>Unique ID for the remote <a class="reference internal" href="#pulsar.async.actor.Actor" title="pulsar.async.actor.Actor"><code class="xref py py-class docutils literal"><span class="pre">Actor</span></code></a></p>
</dd></dl>

<dl class="attribute">
<dt id="pulsar.async.actor.ActorProxy.address">
<code class="descname">address</code><a class="headerlink" href="#pulsar.async.actor.ActorProxy.address" title="Permalink to this definition">¶</a></dt>
<dd><p>the socket address of the underlying <a class="reference internal" href="#pulsar.async.actor.Actor.mailbox" title="pulsar.async.actor.Actor.mailbox"><code class="xref py py-attr docutils literal"><span class="pre">Actor.mailbox</span></code></a>.</p>
</dd></dl>

</dd></dl>

</div>
<div class="section" id="actorproxymonitor">
<h3>ActorProxyMonitor<a class="headerlink" href="#actorproxymonitor" title="Permalink to this headline">¶</a></h3>
<dl class="class">
<dt id="pulsar.async.proxy.ActorProxyMonitor">
<em class="property">class </em><code class="descclassname">pulsar.async.proxy.</code><code class="descname">ActorProxyMonitor</code><span class="sig-paren">(</span><em>impl</em><span class="sig-paren">)</span><a class="reference internal" href="../modules/pulsar/async/proxy.html#ActorProxyMonitor"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pulsar.async.proxy.ActorProxyMonitor" title="Permalink to this definition">¶</a></dt>
<dd><p>A specialised <a class="reference internal" href="#pulsar.async.proxy.ActorProxy" title="pulsar.async.proxy.ActorProxy"><code class="xref py py-class docutils literal"><span class="pre">ActorProxy</span></code></a> class.</p>
<p>It contains additional information about the remote underlying
<a class="reference internal" href="#pulsar.async.actor.Actor" title="pulsar.async.actor.Actor"><code class="xref py py-class docutils literal"><span class="pre">Actor</span></code></a>. Instances of this class serialise into
<a class="reference internal" href="#pulsar.async.proxy.ActorProxy" title="pulsar.async.proxy.ActorProxy"><code class="xref py py-class docutils literal"><span class="pre">ActorProxy</span></code></a>.</p>
<p>The <a class="reference internal" href="#pulsar.async.proxy.ActorProxyMonitor" title="pulsar.async.proxy.ActorProxyMonitor"><code class="xref py py-class docutils literal"><span class="pre">ActorProxyMonitor</span></code></a> is special since it lives in the
<code class="xref py py-class docutils literal"><span class="pre">Arbiter</span></code> domain and it is used by the <code class="xref py py-class docutils literal"><span class="pre">Arbiter</span></code>
(or a <code class="xref py py-class docutils literal"><span class="pre">Monitor</span></code>) to monitor the state of the spawned actor.</p>
<dl class="attribute">
<dt id="pulsar.async.actor.ActorProxyMonitor.impl">
<code class="descname">impl</code><a class="headerlink" href="#pulsar.async.actor.ActorProxyMonitor.impl" title="Permalink to this definition">¶</a></dt>
<dd><p>The <a class="reference internal" href="#pulsar.async.concurrency.Concurrency" title="pulsar.async.concurrency.Concurrency"><code class="xref py py-class docutils literal"><span class="pre">Concurrency</span></code></a> instance for the remote <a class="reference internal" href="#pulsar.async.actor.Actor" title="pulsar.async.actor.Actor"><code class="xref py py-class docutils literal"><span class="pre">Actor</span></code></a>. This
dictionary is constantly updated by the remote actor by sending the
<a class="reference internal" href="../design.html#actor-info-command"><span>info message</span></a>.</p>
</dd></dl>

<dl class="attribute">
<dt id="pulsar.async.actor.ActorProxyMonitor.info">
<code class="descname">info</code><a class="headerlink" href="#pulsar.async.actor.ActorProxyMonitor.info" title="Permalink to this definition">¶</a></dt>
<dd><p>Dictionary of information regarding the remote <a class="reference internal" href="#pulsar.async.actor.Actor" title="pulsar.async.actor.Actor"><code class="xref py py-class docutils literal"><span class="pre">Actor</span></code></a></p>
</dd></dl>

<dl class="attribute">
<dt id="pulsar.async.actor.ActorProxyMonitor.mailbox">
<code class="descname">mailbox</code><a class="headerlink" href="#pulsar.async.actor.ActorProxyMonitor.mailbox" title="Permalink to this definition">¶</a></dt>
<dd><p>This is the connection with the remote actor. It is available once the
<a class="reference internal" href="../design.html#handshake"><span>actor handshake</span></a> between the actor and the monitor
has completed. The <a class="reference internal" href="#pulsar.async.actor.ActorProxyMonitor.mailbox" title="pulsar.async.actor.ActorProxyMonitor.mailbox"><code class="xref py py-attr docutils literal"><span class="pre">mailbox</span></code></a> is a server-side
<a class="reference internal" href="../tutorials/messages.html#pulsar.async.mailbox.MailboxProtocol" title="pulsar.async.mailbox.MailboxProtocol"><code class="xref py py-class docutils literal"><span class="pre">MailboxProtocol</span></code></a> instance and it is used
by the <a class="reference internal" href="#pulsar.async.actor.send" title="pulsar.async.actor.send"><code class="xref py py-func docutils literal"><span class="pre">send()</span></code></a> function to send messages to the remote actor.</p>
</dd></dl>

<dl class="attribute">
<dt id="pulsar.async.proxy.ActorProxyMonitor.notified">
<code class="descname">notified</code><a class="headerlink" href="#pulsar.async.proxy.ActorProxyMonitor.notified" title="Permalink to this definition">¶</a></dt>
<dd><p>Last time this <a class="reference internal" href="#pulsar.async.proxy.ActorProxyMonitor" title="pulsar.async.proxy.ActorProxyMonitor"><code class="xref py py-class docutils literal"><span class="pre">ActorProxyMonitor</span></code></a> was notified by the
remote actor.</p>
</dd></dl>

<dl class="attribute">
<dt id="pulsar.async.proxy.ActorProxyMonitor.proxy">
<code class="descname">proxy</code><a class="headerlink" href="#pulsar.async.proxy.ActorProxyMonitor.proxy" title="Permalink to this definition">¶</a></dt>
<dd><p>The <a class="reference internal" href="#pulsar.async.proxy.ActorProxy" title="pulsar.async.proxy.ActorProxy"><code class="xref py py-class docutils literal"><span class="pre">ActorProxy</span></code></a> for this monitor.</p>
</dd></dl>

<dl class="method">
<dt id="pulsar.async.proxy.ActorProxyMonitor.is_alive">
<code class="descname">is_alive</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="../modules/pulsar/async/proxy.html#ActorProxyMonitor.is_alive"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pulsar.async.proxy.ActorProxyMonitor.is_alive" title="Permalink to this definition">¶</a></dt>
<dd><p><code class="docutils literal"><span class="pre">True</span></code> if underlying actor is alive.</p>
</dd></dl>

<dl class="method">
<dt id="pulsar.async.proxy.ActorProxyMonitor.kill">
<code class="descname">kill</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="../modules/pulsar/async/proxy.html#ActorProxyMonitor.kill"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pulsar.async.proxy.ActorProxyMonitor.kill" title="Permalink to this definition">¶</a></dt>
<dd><p>Terminate life of underlying actor.</p>
</dd></dl>

<dl class="method">
<dt id="pulsar.async.proxy.ActorProxyMonitor.join">
<code class="descname">join</code><span class="sig-paren">(</span><em>timeout=None</em><span class="sig-paren">)</span><a class="reference internal" href="../modules/pulsar/async/proxy.html#ActorProxyMonitor.join"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pulsar.async.proxy.ActorProxyMonitor.join" title="Permalink to this definition">¶</a></dt>
<dd><p>Wait until the underlying actor terminates.</p>
<p>If <code class="docutils literal"><span class="pre">timeout</span></code> is provided, it raises an exception if the timeout
is reached.</p>
</dd></dl>

<dl class="method">
<dt id="pulsar.async.proxy.ActorProxyMonitor.start">
<code class="descname">start</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="../modules/pulsar/async/proxy.html#ActorProxyMonitor.start"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pulsar.async.proxy.ActorProxyMonitor.start" title="Permalink to this definition">¶</a></dt>
<dd><p>Start the remote actor.</p>
</dd></dl>

</dd></dl>

</div>
</div>
<div class="section" id="messages">
<span id="api-remote-commands"></span><h2>Messages<a class="headerlink" href="#messages" title="Permalink to this headline">¶</a></h2>
<p><a class="reference internal" href="#pulsar.async.actor.Actor" title="pulsar.async.actor.Actor"><code class="xref py py-class docutils literal"><span class="pre">Actor</span></code></a> communicate with each other via the <a class="reference internal" href="#pulsar.async.actor.send" title="pulsar.async.actor.send"><code class="xref py py-func docutils literal"><span class="pre">send()</span></code></a> function
which uses the via <a class="reference internal" href="#pulsar.async.actor.Actor.mailbox" title="pulsar.async.actor.Actor.mailbox"><code class="xref py py-attr docutils literal"><span class="pre">Actor.mailbox</span></code></a> attribute of the actor in the
current context. When an actor communicate with
another remote actor it does so by <em>sending</em> an <strong>action</strong> to it
with positional and/or key-valued arguments. For example:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="n">send</span><span class="p">(</span><span class="n">target</span><span class="p">,</span> <span class="s1">&#39;ping&#39;</span><span class="p">)</span>
</pre></div>
</div>
<p>will <a class="reference internal" href="#send-function"><span>send</span></a> the <em>ping</em> action to <em>target</em> from the actor
in the current context of execution. The above is equivalent to:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="n">get_actor</span><span class="p">()</span><span class="o">.</span><span class="n">send</span><span class="p">(</span><span class="n">target</span><span class="p">,</span> <span class="s1">&#39;ping&#39;</span><span class="p">)</span>
</pre></div>
</div>
<p>Each action is implemented via the <code class="xref py py-func docutils literal"><span class="pre">command()</span></code> decorator implemented
in the <code class="xref py py-mod docutils literal"><span class="pre">pulsar.async.commands</span></code> module.
A <a class="reference internal" href="../design.html#actor-commands"><span>list of standard commands</span></a>
is available in the design documentation.</p>
<div class="section" id="pulsar-command">
<h3>pulsar command<a class="headerlink" href="#pulsar-command" title="Permalink to this headline">¶</a></h3>
<dl class="class">
<dt id="pulsar.async.commands.command">
<em class="property">class </em><code class="descclassname">pulsar.async.commands.</code><code class="descname">command</code><span class="sig-paren">(</span><em>ack=True</em><span class="sig-paren">)</span><a class="reference internal" href="../modules/pulsar/async/proxy.html#command"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pulsar.async.commands.command" title="Permalink to this definition">¶</a></dt>
<dd><p>Decorator for pulsar command functions.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>ack</strong> &#8211; <code class="docutils literal"><span class="pre">True</span></code> if the command acknowledge the sender with a
response. Usually is set to <code class="docutils literal"><span class="pre">True</span></code> (which is also the default value).</td>
</tr>
</tbody>
</table>
</dd></dl>

<span class="target" id="module-pulsar.async.concurrency"></span></div>
</div>
<div class="section" id="concurrency">
<h2>Concurrency<a class="headerlink" href="#concurrency" title="Permalink to this headline">¶</a></h2>
<p>The <a class="reference internal" href="#pulsar.async.concurrency.Concurrency" title="pulsar.async.concurrency.Concurrency"><code class="xref py py-class docutils literal"><span class="pre">Concurrency</span></code></a> class implements the behaviour of an <a class="reference internal" href="#pulsar.async.actor.Actor" title="pulsar.async.actor.Actor"><code class="xref py py-class docutils literal"><span class="pre">Actor</span></code></a>
and therefore allows for decoupling between the <a class="reference internal" href="#pulsar.async.actor.Actor" title="pulsar.async.actor.Actor"><code class="xref py py-class docutils literal"><span class="pre">Actor</span></code></a> abstraction
and its implementation (<cite>bridge pattern</cite>).</p>
<div class="section" id="base-concurrency">
<h3>Base Concurrency<a class="headerlink" href="#base-concurrency" title="Permalink to this headline">¶</a></h3>
<dl class="class">
<dt id="pulsar.async.concurrency.Concurrency">
<em class="property">class </em><code class="descclassname">pulsar.async.concurrency.</code><code class="descname">Concurrency</code><a class="reference internal" href="../modules/pulsar/async/concurrency.html#Concurrency"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pulsar.async.concurrency.Concurrency" title="Permalink to this definition">¶</a></dt>
<dd><p>Actor <a class="reference internal" href="#pulsar.async.concurrency.Concurrency" title="pulsar.async.concurrency.Concurrency"><code class="xref py py-class docutils literal"><span class="pre">Concurrency</span></code></a>.</p>
<p>Responsible for the actual spawning of actors according to a
concurrency implementation. Instances are picklable
and are shared between the <a class="reference internal" href="#pulsar.async.actor.Actor" title="pulsar.async.actor.Actor"><code class="xref py py-class docutils literal"><span class="pre">Actor</span></code></a> and its
<a class="reference internal" href="#pulsar.async.proxy.ActorProxyMonitor" title="pulsar.async.proxy.ActorProxyMonitor"><code class="xref py py-class docutils literal"><span class="pre">ActorProxyMonitor</span></code></a>.
This is an abstract class, derived classes must implement the
<code class="docutils literal"><span class="pre">start</span></code> method.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>concurrency</strong> &#8211; string indicating the concurrency implementation.
Valid choices are <code class="docutils literal"><span class="pre">monitor</span></code>, <code class="docutils literal"><span class="pre">process</span></code>, <code class="docutils literal"><span class="pre">thread</span></code>.</li>
<li><strong>actor_class</strong> &#8211; <a class="reference internal" href="#pulsar.async.actor.Actor" title="pulsar.async.actor.Actor"><code class="xref py py-class docutils literal"><span class="pre">Actor</span></code></a> or one of its subclasses.</li>
<li><strong>timeout</strong> &#8211; timeout in seconds for the actor.</li>
<li><strong>kwargs</strong> &#8211; additional key-valued arguments to be passed to the actor
constructor.</li>
</ul>
</td>
</tr>
</tbody>
</table>
<dl class="attribute">
<dt id="pulsar.async.concurrency.Concurrency.actor_class">
<code class="descname">actor_class</code><a class="headerlink" href="#pulsar.async.concurrency.Concurrency.actor_class" title="Permalink to this definition">¶</a></dt>
<dd><p>alias of <code class="xref py py-class docutils literal"><span class="pre">Actor</span></code></p>
</dd></dl>

<dl class="method">
<dt id="pulsar.async.concurrency.Concurrency.create_mailbox">
<code class="descname">create_mailbox</code><span class="sig-paren">(</span><em>actor</em>, <em>loop</em><span class="sig-paren">)</span><a class="reference internal" href="../modules/pulsar/async/concurrency.html#Concurrency.create_mailbox"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pulsar.async.concurrency.Concurrency.create_mailbox" title="Permalink to this definition">¶</a></dt>
<dd><p>Create the mailbox for <code class="docutils literal"><span class="pre">actor</span></code>.</p>
</dd></dl>

<dl class="method">
<dt id="pulsar.async.concurrency.Concurrency.hand_shake">
<code class="descname">hand_shake</code><span class="sig-paren">(</span><em>actor</em><span class="sig-paren">)</span><a class="reference internal" href="../modules/pulsar/async/concurrency.html#Concurrency.hand_shake"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pulsar.async.concurrency.Concurrency.hand_shake" title="Permalink to this definition">¶</a></dt>
<dd><p>Perform the hand shake for <code class="docutils literal"><span class="pre">actor</span></code></p>
<p>The hand shake occurs when the <code class="docutils literal"><span class="pre">actor</span></code> is in starting state.
It performs the following actions:</p>
<ul class="simple">
<li>set the <code class="docutils literal"><span class="pre">actor</span></code> as the actor of the current thread</li>
<li>bind two additional callbacks to the <code class="docutils literal"><span class="pre">start</span></code> event</li>
<li>fire the <code class="docutils literal"><span class="pre">start</span></code> event</li>
</ul>
<p>If the hand shake is successful, the actor will eventually
results in a running state.</p>
</dd></dl>

<dl class="method">
<dt id="pulsar.async.concurrency.Concurrency.periodic_task">
<code class="descname">periodic_task</code><span class="sig-paren">(</span><em>actor</em>, <em>**kw</em><span class="sig-paren">)</span><a class="reference internal" href="../modules/pulsar/async/concurrency.html#Concurrency.periodic_task"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pulsar.async.concurrency.Concurrency.periodic_task" title="Permalink to this definition">¶</a></dt>
<dd><p>Implement the <a class="reference internal" href="../design.html#actor-periodic-task"><span>actor period task</span></a>.</p>
<p>This is an internal method called periodically by the
<a class="reference internal" href="#pulsar.async.actor.Actor._loop" title="pulsar.async.actor.Actor._loop"><code class="xref py py-attr docutils literal"><span class="pre">Actor._loop</span></code></a> to ping the actor monitor.
If successful return a <a class="reference external" href="http://python.readthedocs.org/en/latest/library/asyncio-task.html#asyncio.Future" title="(in Python v3.6)"><code class="xref py py-class docutils literal"><span class="pre">Future</span></code></a> called
back with the acknowledgement from the monitor.</p>
</dd></dl>

<dl class="method">
<dt id="pulsar.async.concurrency.Concurrency.run_actor">
<code class="descname">run_actor</code><span class="sig-paren">(</span><em>actor</em><span class="sig-paren">)</span><a class="reference internal" href="../modules/pulsar/async/concurrency.html#Concurrency.run_actor"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pulsar.async.concurrency.Concurrency.run_actor" title="Permalink to this definition">¶</a></dt>
<dd><p>Start running the <code class="docutils literal"><span class="pre">actor</span></code>.</p>
</dd></dl>

<dl class="method">
<dt id="pulsar.async.concurrency.Concurrency.setup_event_loop">
<code class="descname">setup_event_loop</code><span class="sig-paren">(</span><em>actor</em><span class="sig-paren">)</span><a class="reference internal" href="../modules/pulsar/async/concurrency.html#Concurrency.setup_event_loop"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pulsar.async.concurrency.Concurrency.setup_event_loop" title="Permalink to this definition">¶</a></dt>
<dd><p>Set up the event loop for <code class="docutils literal"><span class="pre">actor</span></code>.</p>
</dd></dl>

<dl class="method">
<dt id="pulsar.async.concurrency.Concurrency.spawn">
<code class="descname">spawn</code><span class="sig-paren">(</span><em>actor</em>, <em>aid=None</em>, <em>**params</em><span class="sig-paren">)</span><a class="reference internal" href="../modules/pulsar/async/concurrency.html#Concurrency.spawn"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pulsar.async.concurrency.Concurrency.spawn" title="Permalink to this definition">¶</a></dt>
<dd><p>Spawn a new actor from <code class="docutils literal"><span class="pre">actor</span></code>.</p>
</dd></dl>

<dl class="method">
<dt id="pulsar.async.concurrency.Concurrency.stop">
<code class="descname">stop</code><span class="sig-paren">(</span><em>actor</em>, <em>exc=None</em>, <em>exit_code=None</em><span class="sig-paren">)</span><a class="reference internal" href="../modules/pulsar/async/concurrency.html#Concurrency.stop"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pulsar.async.concurrency.Concurrency.stop" title="Permalink to this definition">¶</a></dt>
<dd><p>Gracefully stop the <code class="docutils literal"><span class="pre">actor</span></code>.</p>
</dd></dl>

</dd></dl>

</div>
<div class="section" id="monitor-concurrency">
<h3>Monitor Concurrency<a class="headerlink" href="#monitor-concurrency" title="Permalink to this headline">¶</a></h3>
<dl class="class">
<dt id="pulsar.async.concurrency.MonitorConcurrency">
<em class="property">class </em><code class="descclassname">pulsar.async.concurrency.</code><code class="descname">MonitorConcurrency</code><a class="reference internal" href="../modules/pulsar/async/concurrency.html#MonitorConcurrency"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pulsar.async.concurrency.MonitorConcurrency" title="Permalink to this definition">¶</a></dt>
<dd><p><a class="reference internal" href="#pulsar.async.concurrency.Concurrency" title="pulsar.async.concurrency.Concurrency"><code class="xref py py-class docutils literal"><span class="pre">Concurrency</span></code></a> class for a <code class="xref py py-class docutils literal"><span class="pre">Monitor</span></code>.</p>
<p>Monitors live in the <strong>main thread</strong> of the master process and
therefore do not require to be spawned.</p>
<dl class="method">
<dt id="pulsar.async.concurrency.MonitorConcurrency.periodic_task">
<code class="descname">periodic_task</code><span class="sig-paren">(</span><em>monitor</em>, <em>**kw</em><span class="sig-paren">)</span><a class="reference internal" href="../modules/pulsar/async/concurrency.html#MonitorConcurrency.periodic_task"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pulsar.async.concurrency.MonitorConcurrency.periodic_task" title="Permalink to this definition">¶</a></dt>
<dd><p>Override the <a class="reference internal" href="#pulsar.async.concurrency.Concurrency.periodic_task" title="pulsar.async.concurrency.Concurrency.periodic_task"><code class="xref py py-meth docutils literal"><span class="pre">Concurrency.periodic_task()</span></code></a> to implement
the <code class="xref py py-class docutils literal"><span class="pre">Monitor</span></code> <a class="reference internal" href="../design.html#actor-periodic-task"><span>periodic task</span></a>.</p>
</dd></dl>

</dd></dl>

</div>
<div class="section" id="arbiter-concurrency">
<h3>Arbiter Concurrency<a class="headerlink" href="#arbiter-concurrency" title="Permalink to this headline">¶</a></h3>
<dl class="class">
<dt id="pulsar.async.concurrency.ArbiterConcurrency">
<em class="property">class </em><code class="descclassname">pulsar.async.concurrency.</code><code class="descname">ArbiterConcurrency</code><a class="reference internal" href="../modules/pulsar/async/concurrency.html#ArbiterConcurrency"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pulsar.async.concurrency.ArbiterConcurrency" title="Permalink to this definition">¶</a></dt>
<dd><p>Concurrency implementation for the <code class="docutils literal"><span class="pre">arbiter</span></code></p>
<dl class="method">
<dt id="pulsar.async.concurrency.ArbiterConcurrency.add_monitor">
<code class="descname">add_monitor</code><span class="sig-paren">(</span><em>actor</em>, <em>monitor_name</em>, <em>**params</em><span class="sig-paren">)</span><a class="reference internal" href="../modules/pulsar/async/concurrency.html#ArbiterConcurrency.add_monitor"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pulsar.async.concurrency.ArbiterConcurrency.add_monitor" title="Permalink to this definition">¶</a></dt>
<dd><p>Add a new <code class="docutils literal"><span class="pre">monitor</span></code>.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>monitor_class</strong> &#8211; a <code class="xref py py-class docutils literal"><span class="pre">Monitor</span></code> class.</li>
<li><strong>monitor_name</strong> &#8211; a unique name for the monitor.</li>
<li><strong>kwargs</strong> &#8211; dictionary of key-valued parameters for the monitor.</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first last">the <code class="xref py py-class docutils literal"><span class="pre">Monitor</span></code> added.</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="pulsar.async.concurrency.ArbiterConcurrency.create_mailbox">
<code class="descname">create_mailbox</code><span class="sig-paren">(</span><em>actor</em>, <em>loop</em><span class="sig-paren">)</span><a class="reference internal" href="../modules/pulsar/async/concurrency.html#ArbiterConcurrency.create_mailbox"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pulsar.async.concurrency.ArbiterConcurrency.create_mailbox" title="Permalink to this definition">¶</a></dt>
<dd><p>Override <a class="reference internal" href="#pulsar.async.concurrency.Concurrency.create_mailbox" title="pulsar.async.concurrency.Concurrency.create_mailbox"><code class="xref py py-meth docutils literal"><span class="pre">Concurrency.create_mailbox()</span></code></a> to create the
mailbox server.</p>
</dd></dl>

<dl class="method">
<dt id="pulsar.async.concurrency.ArbiterConcurrency.get_actor">
<code class="descname">get_actor</code><span class="sig-paren">(</span><em>actor</em>, <em>aid</em>, <em>check_monitor=True</em><span class="sig-paren">)</span><a class="reference internal" href="../modules/pulsar/async/concurrency.html#ArbiterConcurrency.get_actor"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pulsar.async.concurrency.ArbiterConcurrency.get_actor" title="Permalink to this definition">¶</a></dt>
<dd><p>Given an actor unique id return the actor proxy.</p>
</dd></dl>

<dl class="method">
<dt id="pulsar.async.concurrency.ArbiterConcurrency.periodic_task">
<code class="descname">periodic_task</code><span class="sig-paren">(</span><em>actor</em>, <em>**kw</em><span class="sig-paren">)</span><a class="reference internal" href="../modules/pulsar/async/concurrency.html#ArbiterConcurrency.periodic_task"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pulsar.async.concurrency.ArbiterConcurrency.periodic_task" title="Permalink to this definition">¶</a></dt>
<dd><p>Override the <a class="reference internal" href="#pulsar.async.concurrency.Concurrency.periodic_task" title="pulsar.async.concurrency.Concurrency.periodic_task"><code class="xref py py-meth docutils literal"><span class="pre">Concurrency.periodic_task()</span></code></a> to implement
the <code class="xref py py-class docutils literal"><span class="pre">Arbiter</span></code> <a class="reference internal" href="../design.html#actor-periodic-task"><span>periodic task</span></a>.</p>
</dd></dl>

</dd></dl>

</div>
</div>
<div class="section" id="module-pulsar.async.consts">
<span id="constants"></span><h2>Constants<a class="headerlink" href="#module-pulsar.async.consts" title="Permalink to this headline">¶</a></h2>
<p>Constants used throughout pulsar.</p>
<dl class="data">
<dt id="pulsar.async.consts.ACTOR_STATES">
<code class="descclassname">pulsar.async.consts.</code><code class="descname">ACTOR_STATES</code><em class="property"> = {'TERMINATE': 6, 'STOPPING': 4, 'RUN': 3, 'DESCRIPTION': {0: 'initial', 1: 'inactive', 2: 'starting', 3: 'running', 4: 'stopping', 5: 'closed', 6: 'terminated'}, 'INACTIVE': 1, 'INITIAL': 0, 'CLOSE': 5, 'STARTING': 2}</em><a class="headerlink" href="#pulsar.async.consts.ACTOR_STATES" title="Permalink to this definition">¶</a></dt>
<dd><p id="actor-states">Actor state constants are access via:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="kn">from</span> <span class="nn">pulsar</span> <span class="kn">import</span> <span class="n">ACTOR_STATES</span>
</pre></div>
</div>
<p>They are:</p>
<ul class="simple">
<li><code class="docutils literal"><span class="pre">ACTOR_STATES.INITIAL</span> <span class="pre">=</span> <span class="pre">0</span></code> when an actor is just created, before the
<code class="xref py py-class docutils literal"><span class="pre">pulsar.Actor.start</span></code> method is called.</li>
<li><code class="docutils literal"><span class="pre">ACTOR_STATES.STARTING</span> <span class="pre">=</span> <span class="pre">2</span></code> when <code class="xref py py-class docutils literal"><span class="pre">pulsar.Actor.start</span></code> method
is called.</li>
<li><code class="docutils literal"><span class="pre">ACTOR_STATES.RUN</span> <span class="pre">=</span> <span class="pre">3</span></code> when <code class="xref py py-class docutils literal"><span class="pre">pulsar.Actor._loop</span></code> is up
and running.</li>
<li><code class="docutils literal"><span class="pre">ACTOR_STATES.STOPPING</span> <span class="pre">=</span> <span class="pre">4</span></code> when <code class="xref py py-class docutils literal"><span class="pre">pulsar.Actor.stop</span></code> has been
called for the first time and the actor is running.</li>
</ul>
</dd></dl>

<dl class="data">
<dt id="pulsar.async.consts.ACTOR_ACTION_TIMEOUT">
<code class="descclassname">pulsar.async.consts.</code><code class="descname">ACTOR_ACTION_TIMEOUT</code><em class="property"> = 5</em><a class="headerlink" href="#pulsar.async.consts.ACTOR_ACTION_TIMEOUT" title="Permalink to this definition">¶</a></dt>
<dd><p>Important constant used by <code class="xref py py-class docutils literal"><span class="pre">pulsar.Monitor</span></code> to kill actors which
don&#8217;t respond to the <code class="docutils literal"><span class="pre">stop</span></code> command.</p>
</dd></dl>

<dl class="data">
<dt id="pulsar.async.consts.MONITOR_TASK_PERIOD">
<code class="descclassname">pulsar.async.consts.</code><code class="descname">MONITOR_TASK_PERIOD</code><em class="property"> = 1</em><a class="headerlink" href="#pulsar.async.consts.MONITOR_TASK_PERIOD" title="Permalink to this definition">¶</a></dt>
<dd><p>Interval for <code class="xref py py-class docutils literal"><span class="pre">pulsar.Monitor</span></code> and <code class="xref py py-class docutils literal"><span class="pre">pulsar.Arbiter</span></code>
periodic task.</p>
</dd></dl>

</div>
</div>


          </div>
        </div>
      </div>
      <div class="sphinxsidebar" role="navigation" aria-label="main navigation">
        <div class="sphinxsidebarwrapper">
<p class="logo">
  <a href="../index.html">
    <img class="logo" src="../static/pulsar-logo.png" alt="Logo"/>
    
  </a>
</p>



<p class="blurb">Concurrent framework for python 3.5 and above.</p>



<p>
<iframe src="https://ghbtns.com/github-btn.html?user=quantmind&repo=pulsar&type=watch&count=true&size=large"
  allowtransparency="true" frameborder="0" scrolling="0" width="200px" height="35px"></iframe>
</p>




<h3>Navigation</h3>
<ul class="current">
<li class="toctree-l1"><a class="reference internal" href="../overview.html">Overview</a></li>
<li class="toctree-l1"><a class="reference internal" href="../design.html">Design</a></li>
<li class="toctree-l1"><a class="reference internal" href="../faq.html">FAQ</a></li>
<li class="toctree-l1"><a class="reference internal" href="../advantage.html">Pulsar Advantage</a></li>
<li class="toctree-l1"><a class="reference internal" href="../tutorials/index.html">Tutorials &amp; Topics</a></li>
<li class="toctree-l1 current"><a class="reference internal" href="index.html">API</a></li>
<li class="toctree-l1"><a class="reference internal" href="../changelog.html">Release Notes</a></li>
<li class="toctree-l1"><a class="reference internal" href="../settings.html">Settings</a></li>
<li class="toctree-l1"><a class="reference internal" href="../acknowledgement.html">Acknowledgement</a></li>
<li class="toctree-l1"><a class="reference internal" href="../pics.html">Pics</a></li>
</ul>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../apps/socket.html">Socket Servers</a></li>
<li class="toctree-l1"><a class="reference internal" href="../apps/wsgi/index.html">WSGI</a></li>
<li class="toctree-l1"><a class="reference internal" href="../apps/rpc.html">JSON-RPC</a></li>
<li class="toctree-l1"><a class="reference internal" href="../apps/websockets.html">WebSockets</a></li>
<li class="toctree-l1"><a class="reference internal" href="../apps/http.html">Asynchronous HTTP client</a></li>
<li class="toctree-l1"><a class="reference internal" href="../apps/greenio.html">Greenlet Support</a></li>
<li class="toctree-l1"><a class="reference internal" href="../apps/test.html">Test Suite</a></li>
<li class="toctree-l1"><a class="reference internal" href="../apps/ds.html">Pulsar Data Store Server</a></li>
<li class="toctree-l1"><a class="reference internal" href="../apps/data/index.html">Data Stores</a></li>
</ul>


<div id="searchbox" style="display: none" role="search">
  <h3>Quick search</h3>
    <form class="search" action="../search.html" method="get">
      <input type="text" name="q" />
      <input type="submit" value="Go" />
      <input type="hidden" name="check_keywords" value="yes" />
      <input type="hidden" name="area" value="default" />
    </form>
    <p class="searchtip" style="font-size: 90%">
    Enter search terms or a module, class or function name.
    </p>
</div>
<script type="text/javascript">$('#searchbox').show(0);</script>
        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="footer">
      &copy;2011-2016, Luca Sbardella.
      
      |
      Powered by <a href="http://sphinx-doc.org/">Sphinx 1.3.5</a>
      &amp; <a href="https://github.com/bitprophet/alabaster">Alabaster 0.7.7</a>
      
      |
      <a href="../sources/api/actor.txt"
          rel="nofollow">Page source</a>
    </div>

    

    
    <script type="text/javascript">

      var _gaq = _gaq || [];
      _gaq.push(['_setAccount', 'UA-3900561-7']);
      _gaq.push(['_setDomainName', 'none']);
      _gaq.push(['_setAllowLinker', true]);
      _gaq.push(['_trackPageview']);

      (function() {
        var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
        ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
        var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
      })();

    </script>
    
  </body>
</html>