<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">


<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    
    <title>RPC &mdash; pulsar 0.7.0-beta.2 documentation</title>
    
    <link rel="stylesheet" href="../../static/pulsar.css" type="text/css" />
    <link rel="stylesheet" href="../../static/pygments.css" type="text/css" />
    
    <script type="text/javascript">
      var DOCUMENTATION_OPTIONS = {
        URL_ROOT:    '../../',
        VERSION:     '0.7.0-beta.2',
        COLLAPSE_INDEX: false,
        FILE_SUFFIX: '.html',
        HAS_SOURCE:  true
      };
    </script>
    <script type="text/javascript" src="../../static/jquery.js"></script>
    <script type="text/javascript" src="../../static/underscore.js"></script>
    <script type="text/javascript" src="../../static/doctools.js"></script>
    <link rel="shortcut icon" href="../../static/Game_of_life_pulsar.gif"/>
    <link rel="top" title="pulsar 0.7.0-beta.2 documentation" href="../../index.html" />
    <link rel="up" title="Distributed Task Queue" href="index.html" />
    <link rel="next" title="Asynchronous and Parallel Test Suite" href="../test.html" />
    <link rel="prev" title="Task Backend" href="backend.html" /> 
  </head>
  <body>

    <div class="related">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="../../genindex.html" title="General Index"
             accesskey="I">index</a></li>
        <li class="right" >
          <a href="../../py-modindex.html" title="Python Module Index"
             >modules</a> |</li>
        <li class="right" >
          <a href="../test.html" title="Asynchronous and Parallel Test Suite"
             accesskey="N">next</a> |</li>
        <li class="right" >
          <a href="backend.html" title="Task Backend"
             accesskey="P">previous</a> |</li>
        <li><a href="../../index.html">pulsar 0.7.0-beta.2 documentation</a> &raquo;</li>
          <li><a href="index.html" accesskey="U">Distributed Task Queue</a> &raquo;</li> 
      </ul>
    </div>
<div class="deck">
<div class="header">
    
        <p class="developmentversion">
        Documentation for pulsar's DEVELOPMENT version. Get the 
        <a href="http://pythonhosted.org/pulsar/apps/tasks/rpc.html">release docs here</a>.
        </p>
    
</div>
</div>
  

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          <div class="body">
            
  <div class="section" id="module-pulsar.apps.tasks.rpc">
<span id="rpc"></span><span id="app-taskqueue-rpc"></span><h1>RPC<a class="headerlink" href="#module-pulsar.apps.tasks.rpc" title="Permalink to this headline">¶</a></h1>
<p>The <a class="reference internal" href="intro.html#app-taskqueue-app"><em>task queue application</em></a> does not expose
an external API to run new tasks or retrieve task information.
The <a class="reference internal" href="#pulsar.apps.tasks.rpc.TaskQueueRpcMixin" title="pulsar.apps.tasks.rpc.TaskQueueRpcMixin"><tt class="xref py py-class docutils literal"><span class="pre">TaskQueueRpcMixin</span></tt></a> class can be used to achieve just that. It is
a <a class="reference internal" href="../rpc.html#pulsar.apps.rpc.JSONRPC" title="pulsar.apps.rpc.JSONRPC"><tt class="xref py py-class docutils literal"><span class="pre">pulsar.apps.rpc.JSONRPC</span></tt></a> handler which exposes six functions
for executing tasks and retrieving task information.</p>
<p>The <a class="reference internal" href="../../tutorials/taskqueue.html#tutorials-taskqueue"><em>task-queue example</em></a> shows how to use this class
in the context of a WSGI server running along side the task-queue application.</p>
<div class="section" id="taskqueue-rpc-mixin">
<h2>TaskQueue Rpc Mixin<a class="headerlink" href="#taskqueue-rpc-mixin" title="Permalink to this headline">¶</a></h2>
<dl class="class">
<dt id="pulsar.apps.tasks.rpc.TaskQueueRpcMixin">
<em class="property">class </em><tt class="descclassname">pulsar.apps.tasks.rpc.</tt><tt class="descname">TaskQueueRpcMixin</tt><big>(</big><em>taskqueue</em>, <em>**kwargs</em><big>)</big><a class="reference internal" href="../../modules/pulsar/apps/tasks/rpc.html#TaskQueueRpcMixin"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pulsar.apps.tasks.rpc.TaskQueueRpcMixin" title="Permalink to this definition">¶</a></dt>
<dd><p>A <a class="reference internal" href="../rpc.html#pulsar.apps.rpc.JSONRPC" title="pulsar.apps.rpc.JSONRPC"><tt class="xref py py-class docutils literal"><span class="pre">pulsar.apps.rpc.JSONRPC</span></tt></a> mixin for communicating with
a <tt class="xref py py-class docutils literal"><span class="pre">TaskQueue</span></tt>.</p>
<p>To use it, you need to have an <a class="reference internal" href="../rpc.html#apps-rpc"><em>RPC application</em></a>
and a <a class="reference internal" href="index.html#apps-taskqueue"><em>task queue</em></a> application installed in the
<a class="reference internal" href="../../api/actor.html#pulsar.Arbiter" title="pulsar.Arbiter"><tt class="xref py py-class docutils literal"><span class="pre">pulsar.Arbiter</span></tt></a>.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>taskqueue</strong> &#8211; instance or name of the
<a class="reference internal" href="intro.html#pulsar.apps.tasks.TaskQueue" title="pulsar.apps.tasks.TaskQueue"><tt class="xref py py-class docutils literal"><span class="pre">pulsar.apps.tasks.TaskQueue</span></tt></a> which exposes the remote procedure
calls.</td>
</tr>
</tbody>
</table>
<dl class="method">
<dt id="pulsar.apps.tasks.rpc.TaskQueueRpcMixin.rpc_job_list">
<tt class="descname">rpc_job_list</tt><big>(</big><em>request</em>, <em>jobnames=None</em><big>)</big><a class="reference internal" href="../../modules/pulsar/apps/tasks/rpc.html#TaskQueueRpcMixin.rpc_job_list"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pulsar.apps.tasks.rpc.TaskQueueRpcMixin.rpc_job_list" title="Permalink to this definition">¶</a></dt>
<dd><p>Return the list of Jobs registered with task queue with meta
information. If a list of jobnames is given, it returns only jobs
included in the list.</p>
</dd></dl>

<dl class="method">
<dt id="pulsar.apps.tasks.rpc.TaskQueueRpcMixin.rpc_run_new_task">
<tt class="descname">rpc_run_new_task</tt><big>(</big><em>request</em>, <em>jobname=None</em>, <em>**kw</em><big>)</big><a class="reference internal" href="../../modules/pulsar/apps/tasks/rpc.html#TaskQueueRpcMixin.rpc_run_new_task"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pulsar.apps.tasks.rpc.TaskQueueRpcMixin.rpc_run_new_task" title="Permalink to this definition">¶</a></dt>
<dd><p>Run a new task in the task queue. The task can be of any type
as long as it is registered in the task queue registry. To check the
available tasks call the &#8220;job_list&#8221; function. It returns the task id.</p>
</dd></dl>

<dl class="method">
<dt id="pulsar.apps.tasks.rpc.TaskQueueRpcMixin.rpc_get_task">
<tt class="descname">rpc_get_task</tt><big>(</big><em>request</em>, <em>id=None</em><big>)</big><a class="reference internal" href="../../modules/pulsar/apps/tasks/rpc.html#TaskQueueRpcMixin.rpc_get_task"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pulsar.apps.tasks.rpc.TaskQueueRpcMixin.rpc_get_task" title="Permalink to this definition">¶</a></dt>
<dd><p>Retrieve a task from its id</p>
</dd></dl>

<dl class="method">
<dt id="pulsar.apps.tasks.rpc.TaskQueueRpcMixin.rpc_get_tasks">
<tt class="descname">rpc_get_tasks</tt><big>(</big><em>request</em>, <em>**filters</em><big>)</big><a class="reference internal" href="../../modules/pulsar/apps/tasks/rpc.html#TaskQueueRpcMixin.rpc_get_tasks"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pulsar.apps.tasks.rpc.TaskQueueRpcMixin.rpc_get_tasks" title="Permalink to this definition">¶</a></dt>
<dd><p>Retrieve a list of tasks which satisfy key-valued filters</p>
</dd></dl>

<dl class="method">
<dt id="pulsar.apps.tasks.rpc.TaskQueueRpcMixin.rpc_wait_for_task">
<tt class="descname">rpc_wait_for_task</tt><big>(</big><em>request</em>, <em>id=None</em>, <em>timeout=None</em><big>)</big><a class="reference internal" href="../../modules/pulsar/apps/tasks/rpc.html#TaskQueueRpcMixin.rpc_wait_for_task"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pulsar.apps.tasks.rpc.TaskQueueRpcMixin.rpc_wait_for_task" title="Permalink to this definition">¶</a></dt>
<dd><p>Wait for a task to have finished.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>id</strong> &#8211; the id of the task to wait for.</li>
<li><strong>timeout</strong> &#8211; optional timeout in seconds.</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first last">the json representation of the task once it has finished.</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="pulsar.apps.tasks.rpc.TaskQueueRpcMixin.rpc_num_tasks">
<tt class="descname">rpc_num_tasks</tt><big>(</big><em>request</em><big>)</big><a class="reference internal" href="../../modules/pulsar/apps/tasks/rpc.html#TaskQueueRpcMixin.rpc_num_tasks"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pulsar.apps.tasks.rpc.TaskQueueRpcMixin.rpc_num_tasks" title="Permalink to this definition">¶</a></dt>
<dd><p>Return the approximate number of tasks in the task queue.</p>
</dd></dl>

<dl class="method">
<dt id="pulsar.apps.tasks.rpc.TaskQueueRpcMixin.task_request_parameters">
<tt class="descname">task_request_parameters</tt><big>(</big><em>request</em><big>)</big><a class="reference internal" href="../../modules/pulsar/apps/tasks/rpc.html#TaskQueueRpcMixin.task_request_parameters"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pulsar.apps.tasks.rpc.TaskQueueRpcMixin.task_request_parameters" title="Permalink to this definition">¶</a></dt>
<dd><p><strong>Internal function</strong> which returns a dictionary of parameters
to be passed to the <tt class="xref py py-class docutils literal"><span class="pre">Task</span></tt> class constructor.
This function can be overridden to add information about
the type of request, who made the request and so forth. It must return
a dictionary. By default it returns an empty dictionary.</p>
</dd></dl>

</dd></dl>

</div>
</div>


          </div>
        </div>
      </div>
      <div class="sphinxsidebar">
        <div class="sphinxsidebarwrapper"><p class="logo">
<a href="../../index.html">
  <img class="logo" width="200" src="../../static/pulsar.png" alt="pulsar" title="Pulsar"/>
</a>
</p>
  <h3><a href="../../index.html">Table Of Contents</a></h3>
  <ul>
<li><a class="reference internal" href="#">RPC</a><ul>
<li><a class="reference internal" href="#taskqueue-rpc-mixin">TaskQueue Rpc Mixin</a></li>
</ul>
</li>
</ul>

  <h4>Previous topic</h4>
  <p class="topless"><a href="backend.html"
                        title="previous chapter">Task Backend</a></p>
  <h4>Next topic</h4>
  <p class="topless"><a href="../test.html"
                        title="next chapter">Asynchronous and Parallel Test Suite</a></p>
  <h3>This Page</h3>
  <ul class="this-page-menu">
    <li><a href="../../sources/apps/tasks/rpc.txt"
           rel="nofollow">Show Source</a></li>
  </ul>
<div id="searchbox" style="display: none">
  <h3>Quick search</h3>
    <form class="search" action="../../search.html" method="get">
      <input type="text" name="q" />
      <input type="submit" value="Go" />
      <input type="hidden" name="check_keywords" value="yes" />
      <input type="hidden" name="area" value="default" />
    </form>
    <p class="searchtip" style="font-size: 90%">
    Enter search terms or a module, class or function name.
    </p>
</div>
<script type="text/javascript">$('#searchbox').show(0);</script>
        </div>
      </div>
      <div class="clearer"></div>
    </div>

    <div class="footer">
        &copy; Copyright 2011-2013, Luca Sbardella.
      Created using <a href="http://sphinx-doc.org/">Sphinx</a> 1.2b1.
    </div>
<script type="text/javascript">

  var _gaq = _gaq || [];
  
  _gaq.push(['_setAccount', 'UA-3900561-8']);
  
  _gaq.push(['_trackPageview']);

  (function() {
    var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
    ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
    var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
  })();

</script>

  </body>
</html>