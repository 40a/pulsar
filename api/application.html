
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">

<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    
    <title>Applications API &mdash; pulsar v0.5.0-beta.12 documentation</title>
    <link rel="stylesheet" href="../static/pulsar.css" type="text/css" />
    <link rel="stylesheet" href="../static/pygments.css" type="text/css" />
    <script type="text/javascript">
      var DOCUMENTATION_OPTIONS = {
        URL_ROOT:    '../',
        VERSION:     '0.5.0-beta.12',
        COLLAPSE_INDEX: false,
        FILE_SUFFIX: '.html',
        HAS_SOURCE:  true
      };
    </script>
    <script type="text/javascript" src="../static/jquery.js"></script>
    <script type="text/javascript" src="../static/underscore.js"></script>
    <script type="text/javascript" src="../static/doctools.js"></script>
    <link rel="shortcut icon" href="../static/Game_of_life_pulsar.gif"/>
    <link rel="top" title="pulsar v0.5.0-beta.12 documentation" href="../index.html" />
    <link rel="up" title="API" href="index.html" />
    <link rel="next" title="Tools" href="utilities.html" />
    <link rel="prev" title="Protocols API" href="protocols.html" /> 
  </head>
  <body>

    <div class="related">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="../genindex.html" title="General Index"
             accesskey="I">index</a></li>
        <li class="right" >
          <a href="../py-modindex.html" title="Python Module Index"
             >modules</a> |</li>
        <li class="right" >
          <a href="utilities.html" title="Tools"
             accesskey="N">next</a> |</li>
        <li class="right" >
          <a href="protocols.html" title="Protocols API"
             accesskey="P">previous</a> |</li>
        <li><a href="../index.html">pulsar v0.5.0-beta.12 documentation</a> &raquo;</li>
          <li><a href="index.html" accesskey="U">API</a> &raquo;</li> 
      </ul>
    </div>
<div class="deck">
<div class="header">
    
        <p class="developmentversion">
        Documentation for pulsar's DEVELOPMENT version. Get the 
        <a href="http://packages.python.org/pulsar/">release docs here</a>.
        </p>
    
</div>
</div>
  

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          <div class="body">
            
  <div class="section" id="module-pulsar.apps">
<span id="applications-api"></span><span id="application-api"></span><h1>Applications API<a class="headerlink" href="#module-pulsar.apps" title="Permalink to this headline">¶</a></h1>
<p>This module implements the main classes for pulsar application framework. The
framework is built on top of pulsar asynchronous engine and allows to
implement servers with very little effort. The main classes here are:
<a class="reference internal" href="#pulsar.apps.Application" title="pulsar.apps.Application"><tt class="xref py py-class docutils literal"><span class="pre">Application</span></tt></a> and <a class="reference internal" href="#pulsar.apps.MultiApp" title="pulsar.apps.MultiApp"><tt class="xref py py-class docutils literal"><span class="pre">MultiApp</span></tt></a> which, has the name suggests, is
a factory of several <a class="reference internal" href="#pulsar.apps.Application" title="pulsar.apps.Application"><tt class="xref py py-class docutils literal"><span class="pre">Application</span></tt></a> running on a single server.
The <a class="reference internal" href="#pulsar.apps.Configurator" title="pulsar.apps.Configurator"><tt class="xref py py-class docutils literal"><span class="pre">Configurator</span></tt></a> is a mixin used as base class for both 
<a class="reference internal" href="#pulsar.apps.Application" title="pulsar.apps.Application"><tt class="xref py py-class docutils literal"><span class="pre">Application</span></tt></a> and <a class="reference internal" href="#pulsar.apps.MultiApp" title="pulsar.apps.MultiApp"><tt class="xref py py-class docutils literal"><span class="pre">MultiApp</span></tt></a>.</p>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">An instance of an <a class="reference internal" href="#pulsar.apps.Application" title="pulsar.apps.Application"><tt class="xref py py-class docutils literal"><span class="pre">Application</span></tt></a> is pickable and therefore can be sent
from actor to actor using the
<a class="reference internal" href="../tutorials/messages.html#tutorials-messages"><em>actor message passing api</em></a>.</p>
</div>
<div class="section" id="configurator">
<h2>Configurator<a class="headerlink" href="#configurator" title="Permalink to this headline">¶</a></h2>
<dl class="class">
<dt id="pulsar.apps.Configurator">
<em class="property">class </em><tt class="descclassname">pulsar.apps.</tt><tt class="descname">Configurator</tt><big>(</big><em>name=None</em>, <em>description=None</em>, <em>epilog=None</em>, <em>version=None</em>, <em>argv=None</em>, <em>parse_console=True</em>, <em>script=None</em>, <em>cfg=None</em>, <em>load_config=True</em>, <em>**kwargs</em><big>)</big><a class="headerlink" href="#pulsar.apps.Configurator" title="Permalink to this definition">¶</a></dt>
<dd><p>A mixin for configuring and loading the various necessities for any
given server running on <a class="reference internal" href="../tutorials/wsgi.html#module-pulsar" title="pulsar"><tt class="xref py py-mod docutils literal"><span class="pre">pulsar</span></tt></a> concurrent framework.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>name</strong> &#8211; to override the class <a class="reference internal" href="#pulsar.apps.Configurator.name" title="pulsar.apps.Configurator.name"><tt class="xref py py-attr docutils literal"><span class="pre">name</span></tt></a> attribute.</li>
<li><strong>description</strong> &#8211; to override the class <tt class="xref py py-attr docutils literal"><span class="pre">cfg.description</span></tt> attribute.</li>
<li><strong>epilog</strong> &#8211; to override the class <tt class="xref py py-attr docutils literal"><span class="pre">cfg.epilog</span></tt> attribute.</li>
<li><strong>version</strong> &#8211; Optional version of this application, it overrides the
class <tt class="xref py py-attr docutils literal"><span class="pre">cfg.version</span></tt> attribute.</li>
<li><strong>argv</strong> &#8211; Optional list of command line parameters to parse, if
not supplied the <tt class="xref py py-attr docutils literal"><span class="pre">sys.argv</span></tt> list will be used. The parameter is
only relevant if <strong>parse_console</strong> is <tt class="xref docutils literal"><span class="pre">True</span></tt>.</li>
<li><strong>parse_console</strong> &#8211; <tt class="xref docutils literal"><span class="pre">True</span></tt> (default) if the console parameters needs
parsing.</li>
<li><strong>script</strong> &#8211; Optional string which set the <a class="reference internal" href="#pulsar.apps.Configurator.script" title="pulsar.apps.Configurator.script"><tt class="xref py py-attr docutils literal"><span class="pre">script</span></tt></a> attribute.</li>
<li><strong>params</strong> &#8211; a dictionary of configuration parameters which overrides
the defaults and the <a class="reference internal" href="#pulsar.apps.Configurator.cfg" title="pulsar.apps.Configurator.cfg"><tt class="xref py py-attr docutils literal"><span class="pre">cfg</span></tt></a> class attribute. They will be overritten
by a <a class="reference internal" href="../settings.html#setting-config"><em>config file</em></a> or command line
arguments.</li>
</ul>
</td>
</tr>
</tbody>
</table>
<dl class="attribute">
<dt id="pulsar.apps.Configurator.name">
<tt class="descname">name</tt><a class="headerlink" href="#pulsar.apps.Configurator.name" title="Permalink to this definition">¶</a></dt>
<dd><p>The name is unique if this is an <a class="reference internal" href="#pulsar.apps.Application" title="pulsar.apps.Application"><tt class="xref py py-class docutils literal"><span class="pre">Application</span></tt></a>. In this
case it defines the application monitor name as well and can be access in
the arbiter domain via the <a class="reference internal" href="#pulsar.apps.get_application" title="pulsar.apps.get_application"><tt class="xref py py-func docutils literal"><span class="pre">get_application()</span></tt></a> function.</p>
</dd></dl>

<dl class="attribute">
<dt id="pulsar.apps.Configurator.argv">
<tt class="descname">argv</tt><a class="headerlink" href="#pulsar.apps.Configurator.argv" title="Permalink to this definition">¶</a></dt>
<dd><p>Optional list of command line parameters. If not available the
<tt class="xref py py-attr docutils literal"><span class="pre">sys.argv</span></tt> list will be used when parsing the console.</p>
</dd></dl>

<dl class="attribute">
<dt id="pulsar.apps.Configurator.cfg">
<tt class="descname">cfg</tt><a class="headerlink" href="#pulsar.apps.Configurator.cfg" title="Permalink to this definition">¶</a></dt>
<dd><p>The <a class="reference internal" href="utilities.html#pulsar.utils.config.Config" title="pulsar.utils.config.Config"><tt class="xref py py-class docutils literal"><span class="pre">pulsar.utils.config.Config</span></tt></a> for this <a class="reference internal" href="#pulsar.apps.Configurator" title="pulsar.apps.Configurator"><tt class="xref py py-class docutils literal"><span class="pre">Configurator</span></tt></a>.
If set as class attribute it will be replaced during initialisation.</p>
<p>Default: <tt class="xref docutils literal"><span class="pre">None</span></tt>.</p>
</dd></dl>

<dl class="attribute">
<dt id="pulsar.apps.Configurator.parsed_console">
<tt class="descname">parsed_console</tt><a class="headerlink" href="#pulsar.apps.Configurator.parsed_console" title="Permalink to this definition">¶</a></dt>
<dd><p><tt class="xref docutils literal"><span class="pre">True</span></tt> if this application parsed the console before starting.</p>
</dd></dl>

<dl class="attribute">
<dt id="pulsar.apps.Configurator.script">
<tt class="descname">script</tt><a class="headerlink" href="#pulsar.apps.Configurator.script" title="Permalink to this definition">¶</a></dt>
<dd><p>Full path of the script which starts the application or <tt class="xref docutils literal"><span class="pre">None</span></tt>.
Evaluated during initialization via the <a class="reference internal" href="#pulsar.apps.Configurator.python_path" title="pulsar.apps.Configurator.python_path"><tt class="xref py py-meth docutils literal"><span class="pre">python_path()</span></tt></a> method.</p>
</dd></dl>

<dl class="attribute">
<dt id="pulsar.apps.Configurator.version">
<tt class="descname">version</tt><a class="headerlink" href="#pulsar.apps.Configurator.version" title="Permalink to this definition">¶</a></dt>
<dd><p>Version of this <a class="reference internal" href="#pulsar.apps.Application" title="pulsar.apps.Application"><tt class="xref py py-class docutils literal"><span class="pre">Application</span></tt></a></p>
</dd></dl>

<dl class="attribute">
<dt id="pulsar.apps.Configurator.root_dir">
<tt class="descname">root_dir</tt><a class="headerlink" href="#pulsar.apps.Configurator.root_dir" title="Permalink to this definition">¶</a></dt>
<dd><p>Root directory of this <a class="reference internal" href="#pulsar.apps.Configurator" title="pulsar.apps.Configurator"><tt class="xref py py-class docutils literal"><span class="pre">Configurator</span></tt></a>. Evaluated from the
<a class="reference internal" href="#pulsar.apps.Configurator.script" title="pulsar.apps.Configurator.script"><tt class="xref py py-attr docutils literal"><span class="pre">script</span></tt></a> attribute.</p>
</dd></dl>

<dl class="method">
<dt id="pulsar.apps.Configurator.python_path">
<tt class="descname">python_path</tt><big>(</big><em>script</em><big>)</big><a class="headerlink" href="#pulsar.apps.Configurator.python_path" title="Permalink to this definition">¶</a></dt>
<dd><p>Called during initialization to obtain the <tt class="docutils literal"><span class="pre">script</span></tt> name and
to add the <a class="reference internal" href="#pulsar.apps.Configurator.script" title="pulsar.apps.Configurator.script"><tt class="xref py py-attr docutils literal"><span class="pre">script</span></tt></a> directory to the python path if not in the
path already.
If <tt class="docutils literal"><span class="pre">script</span></tt> does not evalueate to <tt class="xref docutils literal"><span class="pre">True</span></tt> it is evaluated from
the <tt class="docutils literal"><span class="pre">__main__</span></tt> import. Returns the real path of the python
script which runs the application.</p>
</dd></dl>

<dl class="method">
<dt id="pulsar.apps.Configurator.on_config">
<tt class="descname">on_config</tt><big>(</big><big>)</big><a class="headerlink" href="#pulsar.apps.Configurator.on_config" title="Permalink to this definition">¶</a></dt>
<dd><p>Callback when configuration is loaded. This is a chance to do
an application specific check before the concurrent machinery is put into
place. If it returns <tt class="xref docutils literal"><span class="pre">False</span></tt> the application will abort.</p>
</dd></dl>

<dl class="method">
<dt id="pulsar.apps.Configurator.load_config">
<tt class="descname">load_config</tt><big>(</big><big>)</big><a class="headerlink" href="#pulsar.apps.Configurator.load_config" title="Permalink to this definition">¶</a></dt>
<dd><p>Load the application configuration from a file and/or
from the command line. Called during application initialization.
The parameters overriding order is the following:</p>
<blockquote>
<div><ul class="simple">
<li>default parameters.</li>
<li>the <em>params</em> passed in the initialization.</li>
<li>the parameters in the optional configuration file</li>
<li>the parameters passed in the command line.</li>
</ul>
</div></blockquote>
</dd></dl>

<dl class="classmethod">
<dt id="pulsar.apps.Configurator.create_config">
<em class="property">classmethod </em><tt class="descname">create_config</tt><big>(</big><em>params</em>, <em>prefix=None</em>, <em>name=None</em><big>)</big><a class="headerlink" href="#pulsar.apps.Configurator.create_config" title="Permalink to this definition">¶</a></dt>
<dd><p>Create a new <a class="reference internal" href="utilities.html#pulsar.utils.config.Config" title="pulsar.utils.config.Config"><tt class="xref py py-class docutils literal"><span class="pre">pulsar.utils.config.Config</span></tt></a> container by
overriding default values with <em>params</em>.</p>
</dd></dl>

</dd></dl>

</div>
<div class="section" id="application">
<h2>Application<a class="headerlink" href="#application" title="Permalink to this headline">¶</a></h2>
<dl class="class">
<dt id="pulsar.apps.Application">
<em class="property">class </em><tt class="descclassname">pulsar.apps.</tt><tt class="descname">Application</tt><big>(</big><em>callable=None</em>, <em>load_config=True</em>, <em>**params</em><big>)</big><a class="reference internal" href="../modules/pulsar/apps.html#Application"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pulsar.apps.Application" title="Permalink to this definition">¶</a></dt>
<dd><p>An application interface for configuring and loading
the various necessities for any given server or distributed application running
on <a class="reference internal" href="../tutorials/wsgi.html#module-pulsar" title="pulsar"><tt class="xref py py-mod docutils literal"><span class="pre">pulsar</span></tt></a> concurrent framework.
Applications can be of any sorts or forms and the library is shipped with
several battery included examples in the <a class="reference internal" href="#module-pulsar.apps" title="pulsar.apps"><tt class="xref py py-mod docutils literal"><span class="pre">pulsar.apps</span></tt></a> framework module.</p>
<p>These are the most important facts about a pulsar <a class="reference internal" href="#pulsar.apps.Application" title="pulsar.apps.Application"><tt class="xref py py-class docutils literal"><span class="pre">Application</span></tt></a></p>
<ul class="simple">
<li>It derives from <a class="reference internal" href="#pulsar.apps.Configurator" title="pulsar.apps.Configurator"><tt class="xref py py-class docutils literal"><span class="pre">Configurator</span></tt></a> so that it has all the functionalities
to parse command line arguments and setup the <a class="reference internal" href="#pulsar.apps.Configurator.cfg" title="pulsar.apps.Configurator.cfg"><tt class="xref py py-attr docutils literal"><span class="pre">Configurator.cfg</span></tt></a>.</li>
<li>Instances must be pickable. If non-pickable data needs to be add on an
<a class="reference internal" href="#pulsar.apps.Application" title="pulsar.apps.Application"><tt class="xref py py-class docutils literal"><span class="pre">Application</span></tt></a> instance, it must be stored on the
<tt class="xref py py-attr docutils literal"><span class="pre">Application.local</span></tt> dictionary.</li>
<li>When a new <a class="reference internal" href="#pulsar.apps.Application" title="pulsar.apps.Application"><tt class="xref py py-class docutils literal"><span class="pre">Application</span></tt></a> is initialized,
a new <a class="reference internal" href="#pulsar.apps.ApplicationMonitor" title="pulsar.apps.ApplicationMonitor"><tt class="xref py py-class docutils literal"><span class="pre">ApplicationMonitor</span></tt></a> instance is added to the
<tt class="xref py py-class docutils literal"><span class="pre">Arbiter</span></tt>, ready to perform its duties.</li>
</ul>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>callable</strong> &#8211; Initialise the <a class="reference internal" href="#pulsar.apps.Application.callable" title="pulsar.apps.Application.callable"><tt class="xref py py-attr docutils literal"><span class="pre">Application.callable</span></tt></a> attribute.</li>
<li><strong>load_config</strong> &#8211; If <tt class="xref docutils literal"><span class="pre">False</span></tt> the <a class="reference internal" href="#pulsar.apps.Configurator.load_config" title="pulsar.apps.Configurator.load_config"><tt class="xref py py-meth docutils literal"><span class="pre">Configurator.load_config()</span></tt></a>
is not invoked. Default <tt class="xref docutils literal"><span class="pre">True</span></tt>.</li>
<li><strong>params</strong> &#8211; Passed to the <a class="reference internal" href="#pulsar.apps.Configurator" title="pulsar.apps.Configurator"><tt class="xref py py-class docutils literal"><span class="pre">Configurator</span></tt></a> initialiser.</li>
</ul>
</td>
</tr>
</tbody>
</table>
<dl class="attribute">
<dt id="pulsar.apps.Application.callable">
<tt class="descname">callable</tt><a class="headerlink" href="#pulsar.apps.Application.callable" title="Permalink to this definition">¶</a></dt>
<dd><p>Optional callable serving or configuring your application.
If provided, the callable must be pickable, therefore it is either
a function or a pickable object.</p>
<p>Default <tt class="xref docutils literal"><span class="pre">None</span></tt></p>
</dd></dl>

<dl class="attribute">
<dt id="pulsar.apps.Application.app">
<tt class="descname">app</tt><a class="reference internal" href="../modules/pulsar/apps.html#Application.app"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pulsar.apps.Application.app" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns <tt class="docutils literal"><span class="pre">self</span></tt>. Implemented so that the <a class="reference internal" href="#pulsar.apps.ApplicationMonitor" title="pulsar.apps.ApplicationMonitor"><tt class="xref py py-class docutils literal"><span class="pre">ApplicationMonitor</span></tt></a>
and the <a class="reference internal" href="#pulsar.apps.Application" title="pulsar.apps.Application"><tt class="xref py py-class docutils literal"><span class="pre">Application</span></tt></a> have the same interface.</p>
</dd></dl>

<dl class="method">
<dt id="pulsar.apps.Application.io_poller">
<tt class="descname">io_poller</tt><big>(</big><em>worker</em><big>)</big><a class="reference internal" href="../modules/pulsar/apps.html#Application.io_poller"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pulsar.apps.Application.io_poller" title="Permalink to this definition">¶</a></dt>
<dd><p>Called by <a class="reference internal" href="#pulsar.apps.Worker.io_poller" title="pulsar.apps.Worker.io_poller"><tt class="xref py py-meth docutils literal"><span class="pre">Worker.io_poller()</span></tt></a> method during the initialization
of the <a class="reference internal" href="#pulsar.apps.Worker" title="pulsar.apps.Worker"><tt class="xref py py-class docutils literal"><span class="pre">Worker</span></tt></a> event loop. By default it does nothing so that
the event loop chooses the most suitable IO poller.</p>
</dd></dl>

<dl class="method">
<dt id="pulsar.apps.Application.worker_start">
<tt class="descname">worker_start</tt><big>(</big><em>worker</em><big>)</big><a class="reference internal" href="../modules/pulsar/apps.html#Application.worker_start"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pulsar.apps.Application.worker_start" title="Permalink to this definition">¶</a></dt>
<dd><p>Called by the <a class="reference internal" href="#pulsar.apps.Worker" title="pulsar.apps.Worker"><tt class="xref py py-class docutils literal"><span class="pre">Worker</span></tt></a> <tt class="xref py py-meth docutils literal"><span class="pre">pulsar.Actor.on_start()</span></tt>
<a class="reference internal" href="../design.html#actor-callbacks"><em>callback</em></a> method.</p>
</dd></dl>

<dl class="method">
<dt id="pulsar.apps.Application.worker_stopping">
<tt class="descname">worker_stopping</tt><big>(</big><em>worker</em><big>)</big><a class="headerlink" href="#pulsar.apps.Application.worker_stopping" title="Permalink to this definition">¶</a></dt>
<dd><p>Invoked when the <em>worker</em> fires the <em>stopping</em> event.</p>
</dd></dl>

<dl class="method">
<dt id="pulsar.apps.Application.worker_stop">
<tt class="descname">worker_stop</tt><big>(</big><em>worker</em><big>)</big><a class="reference internal" href="../modules/pulsar/apps.html#Application.worker_stop"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pulsar.apps.Application.worker_stop" title="Permalink to this definition">¶</a></dt>
<dd><p>Called by the <a class="reference internal" href="#pulsar.apps.Worker" title="pulsar.apps.Worker"><tt class="xref py py-class docutils literal"><span class="pre">Worker</span></tt></a> <tt class="xref py py-meth docutils literal"><span class="pre">pulsar.Actor.on_stop()</span></tt>
<a class="reference internal" href="../design.html#actor-callbacks"><em>callback</em></a> method.</p>
</dd></dl>

<dl class="method">
<dt id="pulsar.apps.Application.actorparams">
<tt class="descname">actorparams</tt><big>(</big><em>monitor</em>, <em>params</em><big>)</big><a class="reference internal" href="../modules/pulsar/apps.html#Application.actorparams"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pulsar.apps.Application.actorparams" title="Permalink to this definition">¶</a></dt>
<dd><p>A chance to override the dictionary of parameters <em>params</em>
before a new <a class="reference internal" href="#pulsar.apps.Worker" title="pulsar.apps.Worker"><tt class="xref py py-class docutils literal"><span class="pre">Worker</span></tt></a> is spawned. This method is invoked by
the <a class="reference internal" href="#pulsar.apps.ApplicationMonitor" title="pulsar.apps.ApplicationMonitor"><tt class="xref py py-class docutils literal"><span class="pre">ApplicationMonitor</span></tt></a>. By default it does nothing.</p>
</dd></dl>

<dl class="method">
<dt id="pulsar.apps.Application.monitor_start">
<tt class="descname">monitor_start</tt><big>(</big><em>monitor</em><big>)</big><a class="reference internal" href="../modules/pulsar/apps.html#Application.monitor_start"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pulsar.apps.Application.monitor_start" title="Permalink to this definition">¶</a></dt>
<dd><p>Callback by <a class="reference internal" href="#pulsar.apps.ApplicationMonitor" title="pulsar.apps.ApplicationMonitor"><tt class="xref py py-class docutils literal"><span class="pre">ApplicationMonitor</span></tt></a> when starting.
The application is now in the arbiter but has not yet started.</p>
</dd></dl>

<dl class="method">
<dt id="pulsar.apps.Application.monitor_stop">
<tt class="descname">monitor_stop</tt><big>(</big><em>monitor</em><big>)</big><a class="reference internal" href="../modules/pulsar/apps.html#Application.monitor_stop"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pulsar.apps.Application.monitor_stop" title="Permalink to this definition">¶</a></dt>
<dd><p>Callback by <a class="reference internal" href="#pulsar.apps.ApplicationMonitor" title="pulsar.apps.ApplicationMonitor"><tt class="xref py py-class docutils literal"><span class="pre">ApplicationMonitor</span></tt></a> when stopping</p>
</dd></dl>

<dl class="method">
<dt id="pulsar.apps.Application.monitor_task">
<tt class="descname">monitor_task</tt><big>(</big><em>monitor</em><big>)</big><a class="reference internal" href="../modules/pulsar/apps.html#Application.monitor_task"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pulsar.apps.Application.monitor_task" title="Permalink to this definition">¶</a></dt>
<dd><p>Callback by <a class="reference internal" href="#pulsar.apps.ApplicationMonitor" title="pulsar.apps.ApplicationMonitor"><tt class="xref py py-class docutils literal"><span class="pre">ApplicationMonitor</span></tt></a> at each event loop</p>
</dd></dl>

<dl class="method">
<dt id="pulsar.apps.Application.start">
<tt class="descname">start</tt><big>(</big><big>)</big><a class="reference internal" href="../modules/pulsar/apps.html#Application.start"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pulsar.apps.Application.start" title="Permalink to this definition">¶</a></dt>
<dd><p>Start the application if it wasn&#8217;t already started.</p>
</dd></dl>

</dd></dl>

</div>
<div class="section" id="multi-app">
<h2>Multi App<a class="headerlink" href="#multi-app" title="Permalink to this headline">¶</a></h2>
<dl class="class">
<dt id="pulsar.apps.MultiApp">
<em class="property">class </em><tt class="descclassname">pulsar.apps.</tt><tt class="descname">MultiApp</tt><big>(</big><em>name=None</em>, <em>description=None</em>, <em>epilog=None</em>, <em>version=None</em>, <em>argv=None</em>, <em>parse_console=True</em>, <em>script=None</em>, <em>cfg=None</em>, <em>load_config=True</em>, <em>**kwargs</em><big>)</big><a class="reference internal" href="../modules/pulsar/apps.html#MultiApp"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pulsar.apps.MultiApp" title="Permalink to this definition">¶</a></dt>
<dd><p>A <a class="reference internal" href="#pulsar.apps.MultiApp" title="pulsar.apps.MultiApp"><tt class="xref py py-class docutils literal"><span class="pre">MultiApp</span></tt></a> is a tool for creating several <a class="reference internal" href="#pulsar.apps.Application" title="pulsar.apps.Application"><tt class="xref py py-class docutils literal"><span class="pre">Application</span></tt></a>
and starting them at once. It makes sure all <em class="xref std std-ref">settings</em> for the
applications created are available in the command line.
The <a class="reference internal" href="#pulsar.apps.MultiApp.build" title="pulsar.apps.MultiApp.build"><tt class="xref py py-meth docutils literal"><span class="pre">build()</span></tt></a> is the only method which must be implemented by subclasses.
Check the <a class="reference internal" href="../tutorials/taskqueue.html#examples.taskqueue.manage.server" title="examples.taskqueue.manage.server"><tt class="xref py py-class docutils literal"><span class="pre">examples.taskqueue.manage.server</span></tt></a> class in the
<a class="reference internal" href="../tutorials/taskqueue.html#tutorials-taskqueue"><em>taskqueue example</em></a> for an example.
The <a class="reference internal" href="#pulsar.apps.MultiApp" title="pulsar.apps.MultiApp"><tt class="xref py py-class docutils literal"><span class="pre">MultiApp</span></tt></a> derives from <a class="reference internal" href="#pulsar.apps.Configurator" title="pulsar.apps.Configurator"><tt class="xref py py-class docutils literal"><span class="pre">Configurator</span></tt></a> and therefore
supports all its configuration utilities.</p>
<p>A minimal example usage:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="kn">import</span> <span class="nn">pulsar</span>

<span class="k">class</span> <span class="nc">Server</span><span class="p">(</span><span class="n">pulsar</span><span class="o">.</span><span class="n">MultiApp</span><span class="p">):</span>
    <span class="k">def</span> <span class="nf">build</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="k">yield</span> <span class="bp">self</span><span class="o">.</span><span class="n">new_app</span><span class="p">(</span><span class="n">TaskQueue</span><span class="p">)</span>
        <span class="k">yield</span> <span class="bp">self</span><span class="o">.</span><span class="n">new_app</span><span class="p">(</span><span class="n">WSGIserver</span><span class="p">,</span> <span class="n">prefix</span><span class="o">=</span><span class="s">&quot;rpc&quot;</span><span class="p">,</span> <span class="nb">callable</span><span class="o">=...</span><span class="p">,</span> <span class="o">...</span><span class="p">)</span>
        <span class="k">yield</span> <span class="bp">self</span><span class="o">.</span><span class="n">new_app</span><span class="p">(</span><span class="n">WSGIserver</span><span class="p">,</span> <span class="n">prefix</span><span class="o">=</span><span class="s">&quot;web&quot;</span><span class="p">,</span> <span class="nb">callable</span><span class="o">=...</span><span class="p">,</span> <span class="o">...</span><span class="p">)</span>
</pre></div>
</div>
<dl class="method">
<dt id="pulsar.apps.MultiApp.build">
<tt class="descname">build</tt><big>(</big><big>)</big><a class="headerlink" href="#pulsar.apps.MultiApp.build" title="Permalink to this definition">¶</a></dt>
<dd><p>Virtual method, must be implemented by subclasses and return an
iterable over results obtained from calls to the <a class="reference internal" href="#pulsar.apps.MultiApp.new_app" title="pulsar.apps.MultiApp.new_app"><tt class="xref py py-meth docutils literal"><span class="pre">new_app()</span></tt></a> method.</p>
</dd></dl>

<dl class="method">
<dt id="pulsar.apps.MultiApp.apps">
<tt class="descname">apps</tt><big>(</big><big>)</big><a class="headerlink" href="#pulsar.apps.MultiApp.apps" title="Permalink to this definition">¶</a></dt>
<dd><p>List of <a class="reference internal" href="#pulsar.apps.Application" title="pulsar.apps.Application"><tt class="xref py py-class docutils literal"><span class="pre">Application</span></tt></a> for this <a class="reference internal" href="#pulsar.apps.MultiApp" title="pulsar.apps.MultiApp"><tt class="xref py py-class docutils literal"><span class="pre">MultiApp</span></tt></a>.
The list is lazily loaded from the <a class="reference internal" href="#pulsar.apps.MultiApp.build" title="pulsar.apps.MultiApp.build"><tt class="xref py py-meth docutils literal"><span class="pre">build()</span></tt></a> method.</p>
</dd></dl>

<dl class="method">
<dt id="pulsar.apps.MultiApp.new_app">
<tt class="descname">new_app</tt><big>(</big><em>App</em>, <em>prefix=None</em>, <em>callable=None</em>, <em>**params</em><big>)</big><a class="headerlink" href="#pulsar.apps.MultiApp.new_app" title="Permalink to this definition">¶</a></dt>
<dd><p>Invoke this method in the <a class="reference internal" href="#pulsar.apps.MultiApp.build" title="pulsar.apps.MultiApp.build"><tt class="xref py py-meth docutils literal"><span class="pre">build()</span></tt></a> method as many times
as the number of <a class="reference internal" href="#pulsar.apps.Application" title="pulsar.apps.Application"><tt class="xref py py-class docutils literal"><span class="pre">Application</span></tt></a> required by this <a class="reference internal" href="#pulsar.apps.MultiApp" title="pulsar.apps.MultiApp"><tt class="xref py py-class docutils literal"><span class="pre">MultiApp</span></tt></a>.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>App</strong> &#8211; an <a class="reference internal" href="#pulsar.apps.Application" title="pulsar.apps.Application"><tt class="xref py py-class docutils literal"><span class="pre">Application</span></tt></a> class.</li>
<li><strong>prefix</strong> &#8211; The prefix to use for the application, the prefix is appended to
the application <a class="reference internal" href="../settings.html#settings"><em>config parameters</em></a> and to the
application name. Each call to this methjod must use a different value
of for this parameter. It can be <tt class="xref docutils literal"><span class="pre">None</span></tt>.</li>
<li><strong>callable</strong> &#8211; optional callable (function of object) used during
initialisation of <em>App</em> (the <a class="reference internal" href="#pulsar.apps.Application.callable" title="pulsar.apps.Application.callable"><tt class="xref py py-class docutils literal"><span class="pre">Application.callable</span></tt></a>).</li>
<li><strong>params</strong> &#8211; additional key-valued parameters used when creating
an instance of <em>App</em>.</li>
</ul>
</td>
</tr>
<tr class="field"><th class="field-name">Returns:</th><td class="field-body"><p class="first last">a tuple used by the <a class="reference internal" href="#pulsar.apps.MultiApp.apps" title="pulsar.apps.MultiApp.apps"><tt class="xref py py-meth docutils literal"><span class="pre">apps()</span></tt></a> method.</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="pulsar.apps.MultiApp.start">
<tt class="descname">start</tt><big>(</big><big>)</big><a class="reference internal" href="../modules/pulsar/apps.html#MultiApp.start"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pulsar.apps.MultiApp.start" title="Permalink to this definition">¶</a></dt>
<dd><p>Use this method to start all applications at once.</p>
</dd></dl>

</dd></dl>

</div>
<div class="section" id="get-application">
<h2>Get application<a class="headerlink" href="#get-application" title="Permalink to this headline">¶</a></h2>
<dl class="function">
<dt id="pulsar.apps.get_application">
<tt class="descclassname">pulsar.apps.</tt><tt class="descname">get_application</tt><big>(</big><em>name</em><big>)</big><a class="reference internal" href="../modules/pulsar/apps.html#get_application"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pulsar.apps.get_application" title="Permalink to this definition">¶</a></dt>
<dd><p>Fetch the <a class="reference internal" href="#pulsar.apps.Application" title="pulsar.apps.Application"><tt class="xref py py-class docutils literal"><span class="pre">Application</span></tt></a> associated with <em>name</em> if available. This
function returns a <a class="reference internal" href="../tutorials/coroutine.html#coroutine"><em>coroutine</em></a> and therefore it
must be used as an asynchronous component:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="o">...</span>
<span class="n">app</span> <span class="o">=</span> <span class="k">yield</span> <span class="n">pulsar</span><span class="o">.</span><span class="n">get_application</span><span class="p">(</span><span class="s">&#39;taskqueue&#39;</span><span class="p">)</span>
<span class="o">...</span>
</pre></div>
</div>
</dd></dl>

</div>
<div class="section" id="application-worker">
<h2>Application Worker<a class="headerlink" href="#application-worker" title="Permalink to this headline">¶</a></h2>
<dl class="class">
<dt id="pulsar.apps.Worker">
<em class="property">class </em><tt class="descclassname">pulsar.apps.</tt><tt class="descname">Worker</tt><big>(</big><em>*args</em>, <em>**kwargs</em><big>)</big><a class="reference internal" href="../modules/pulsar/apps.html#Worker"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pulsar.apps.Worker" title="Permalink to this definition">¶</a></dt>
<dd><p>An <a class="reference internal" href="actor.html#pulsar.Actor" title="pulsar.Actor"><tt class="xref py py-class docutils literal"><span class="pre">pulsar.Actor</span></tt></a> for serving a pulsar <a class="reference internal" href="#pulsar.apps.Application" title="pulsar.apps.Application"><tt class="xref py py-class docutils literal"><span class="pre">Application</span></tt></a>.</p>
<dl class="attribute">
<dt id="pulsar.apps.Worker.app">
<tt class="descname">app</tt><a class="reference internal" href="../modules/pulsar/apps.html#Worker.app"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pulsar.apps.Worker.app" title="Permalink to this definition">¶</a></dt>
<dd><p>The <a class="reference internal" href="#pulsar.apps.Application" title="pulsar.apps.Application"><tt class="xref py py-class docutils literal"><span class="pre">Application</span></tt></a> served by this <a class="reference internal" href="#pulsar.apps.Worker" title="pulsar.apps.Worker"><tt class="xref py py-class docutils literal"><span class="pre">Worker</span></tt></a>.</p>
</dd></dl>

<dl class="method">
<dt id="pulsar.apps.Worker.io_poller">
<tt class="descname">io_poller</tt><big>(</big><big>)</big><a class="reference internal" href="../modules/pulsar/apps.html#Worker.io_poller"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pulsar.apps.Worker.io_poller" title="Permalink to this definition">¶</a></dt>
<dd><p>Delegates the <a class="reference internal" href="actor.html#pulsar.Actor.io_poller" title="pulsar.Actor.io_poller"><tt class="xref py py-meth docutils literal"><span class="pre">pulsar.Actor.io_poller()</span></tt></a> method to the
<a class="reference internal" href="#pulsar.apps.Application.io_poller" title="pulsar.apps.Application.io_poller"><tt class="xref py py-meth docutils literal"><span class="pre">Application.io_poller()</span></tt></a> method of the <a class="reference internal" href="#pulsar.apps.Worker.app" title="pulsar.apps.Worker.app"><tt class="xref py py-attr docutils literal"><span class="pre">app</span></tt></a> attribute.</p>
</dd></dl>

</dd></dl>

</div>
<div class="section" id="application-monitor">
<h2>Application Monitor<a class="headerlink" href="#application-monitor" title="Permalink to this headline">¶</a></h2>
<dl class="class">
<dt id="pulsar.apps.ApplicationMonitor">
<em class="property">class </em><tt class="descclassname">pulsar.apps.</tt><tt class="descname">ApplicationMonitor</tt><big>(</big><em>*args</em>, <em>**kwargs</em><big>)</big><a class="reference internal" href="../modules/pulsar/apps.html#ApplicationMonitor"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pulsar.apps.ApplicationMonitor" title="Permalink to this definition">¶</a></dt>
<dd><p>A <a class="reference internal" href="actor.html#pulsar.Monitor" title="pulsar.Monitor"><tt class="xref py py-class docutils literal"><span class="pre">pulsar.Monitor</span></tt></a> for managing a pulsar <a class="reference internal" href="#pulsar.apps.Application" title="pulsar.apps.Application"><tt class="xref py py-class docutils literal"><span class="pre">Application</span></tt></a>.</p>
<dl class="attribute">
<dt id="pulsar.apps.ApplicationMonitor.actor_class">
<tt class="descname">actor_class</tt><a class="headerlink" href="#pulsar.apps.ApplicationMonitor.actor_class" title="Permalink to this definition">¶</a></dt>
<dd><p>alias of <a class="reference internal" href="#pulsar.apps.Worker" title="pulsar.apps.Worker"><tt class="xref py py-class docutils literal"><span class="pre">Worker</span></tt></a></p>
</dd></dl>

<dl class="attribute">
<dt id="pulsar.apps.ApplicationMonitor.app">
<tt class="descname">app</tt><a class="reference internal" href="../modules/pulsar/apps.html#ApplicationMonitor.app"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pulsar.apps.ApplicationMonitor.app" title="Permalink to this definition">¶</a></dt>
<dd><p>The <a class="reference internal" href="#pulsar.apps.Application" title="pulsar.apps.Application"><tt class="xref py py-class docutils literal"><span class="pre">Application</span></tt></a> served by this
<a class="reference internal" href="#pulsar.apps.ApplicationMonitor" title="pulsar.apps.ApplicationMonitor"><tt class="xref py py-class docutils literal"><span class="pre">ApplicationMonitor</span></tt></a>.</p>
</dd></dl>

</dd></dl>

</div>
<div class="section" id="backend">
<h2>Backend<a class="headerlink" href="#backend" title="Permalink to this headline">¶</a></h2>
<dl class="class">
<dt id="pulsar.apps.Backend">
<em class="property">class </em><tt class="descclassname">pulsar.apps.</tt><tt class="descname">Backend</tt><big>(</big><em>scheme</em>, <em>host=None</em>, <em>name=None</em>, <em>connection_string=None</em>, <em>**params</em><big>)</big><a class="headerlink" href="#pulsar.apps.Backend" title="Permalink to this definition">¶</a></dt>
<dd><p>Base class for backends. A backend is never initialised directly.
Use the <a class="reference internal" href="#pulsar.apps.Backend.make" title="pulsar.apps.Backend.make"><tt class="xref py py-meth docutils literal"><span class="pre">Backend.make()</span></tt></a> classmethod instead.</p>
<dl class="attribute">
<dt id="pulsar.apps.Backend.scheme">
<tt class="descname">scheme</tt><a class="headerlink" href="#pulsar.apps.Backend.scheme" title="Permalink to this definition">¶</a></dt>
<dd><p>The scheme for this backend (<tt class="docutils literal"><span class="pre">local</span></tt>, <tt class="docutils literal"><span class="pre">redis</span></tt>, <tt class="docutils literal"><span class="pre">http</span></tt>, ...).</p>
</dd></dl>

<dl class="attribute">
<dt id="pulsar.apps.Backend.host">
<tt class="descname">host</tt><a class="headerlink" href="#pulsar.apps.Backend.host" title="Permalink to this definition">¶</a></dt>
<dd><p>Optional host if this backend is not a the local backend.</p>
</dd></dl>

<dl class="attribute">
<dt id="pulsar.apps.Backend.name">
<tt class="descname">name</tt><a class="headerlink" href="#pulsar.apps.Backend.name" title="Permalink to this definition">¶</a></dt>
<dd><p>Optional name of the <a class="reference internal" href="#pulsar.apps.Application" title="pulsar.apps.Application"><tt class="xref py py-class docutils literal"><span class="pre">Application</span></tt></a> which created this
<a class="reference internal" href="#pulsar.apps.Backend" title="pulsar.apps.Backend"><tt class="xref py py-class docutils literal"><span class="pre">Backend</span></tt></a>.</p>
</dd></dl>

<dl class="attribute">
<dt id="pulsar.apps.Backend.params">
<tt class="descname">params</tt><a class="headerlink" href="#pulsar.apps.Backend.params" title="Permalink to this definition">¶</a></dt>
<dd><p>Dictionary of additional parameters passed during initialisation.</p>
</dd></dl>

<dl class="classmethod">
<dt id="pulsar.apps.Backend.make">
<em class="property">classmethod </em><tt class="descname">make</tt><big>(</big><em>backend=None</em>, <em>**kwargs</em><big>)</big><a class="headerlink" href="#pulsar.apps.Backend.make" title="Permalink to this definition">¶</a></dt>
<dd><p>Create a new <a class="reference internal" href="#pulsar.apps.Backend" title="pulsar.apps.Backend"><tt class="xref py py-class docutils literal"><span class="pre">Backend</span></tt></a> from a <em>backend</em> connection string
which is of the form:</p>
<div class="highlight-python"><pre>scheme:://host?params</pre>
</div>
<p>For example, the local backend is:</p>
<div class="highlight-python"><pre>local://</pre>
</div>
<p>A redis backend could be:</p>
<div class="highlight-python"><pre>redis://127.0.0.1:6379?db=1&amp;password=bla</pre>
</div>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>backend</strong> &#8211; the connection string</li>
<li><strong>kwargs</strong> &#8211; additional key-valued parameters used by the <a class="reference internal" href="#pulsar.apps.Backend" title="pulsar.apps.Backend"><tt class="xref py py-class docutils literal"><span class="pre">Backend</span></tt></a>
during initialisation.</li>
</ul>
</td>
</tr>
</tbody>
</table>
</dd></dl>

</dd></dl>

</div>
</div>


          </div>
        </div>
      </div>
      <div class="sphinxsidebar">
        <div class="sphinxsidebarwrapper"><p class="logo">
<a href="../index.html">
  <img class="logo" width="200" src="../static/pulsar.png" alt="pulsar" title="Pulsar"/>
</a>
</p>
  <h3><a href="../index.html">Table Of Contents</a></h3>
  <ul>
<li><a class="reference internal" href="#">Applications API</a><ul>
<li><a class="reference internal" href="#configurator">Configurator</a></li>
<li><a class="reference internal" href="#application">Application</a></li>
<li><a class="reference internal" href="#multi-app">Multi App</a></li>
<li><a class="reference internal" href="#get-application">Get application</a></li>
<li><a class="reference internal" href="#application-worker">Application Worker</a></li>
<li><a class="reference internal" href="#application-monitor">Application Monitor</a></li>
<li><a class="reference internal" href="#backend">Backend</a></li>
</ul>
</li>
</ul>

  <h4>Previous topic</h4>
  <p class="topless"><a href="protocols.html"
                        title="previous chapter">Protocols API</a></p>
  <h4>Next topic</h4>
  <p class="topless"><a href="utilities.html"
                        title="next chapter">Tools</a></p>
  <h3>This Page</h3>
  <ul class="this-page-menu">
    <li><a href="../sources/api/application.txt"
           rel="nofollow">Show Source</a></li>
  </ul>
<div id="searchbox" style="display: none">
  <h3>Quick search</h3>
    <form class="search" action="../search.html" method="get">
      <input type="text" name="q" size="18" />
      <input type="submit" value="Go" />
      <input type="hidden" name="check_keywords" value="yes" />
      <input type="hidden" name="area" value="default" />
    </form>
    <p class="searchtip" style="font-size: 90%">
    Enter search terms or a module, class or function name.
    </p>
</div>
<script type="text/javascript">$('#searchbox').show(0);</script>
        </div>
      </div>
      <div class="clearer"></div>
    </div>

    <div class="footer">
        &copy; Copyright 2011-2013, Luca Sbardella.
      Created using <a href="http://sphinx.pocoo.org/">Sphinx</a> 1.0.7.
    </div>
<script type="text/javascript">

  var _gaq = _gaq || [];
  
  _gaq.push(['_setAccount', 'UA-3900561-8']);
  
  _gaq.push(['_trackPageview']);

  (function() {
    var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
    ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
    var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
  })();

</script>

  </body>
</html>