
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">

<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    
    <title>Publish/Subscribe &mdash; pulsar v0.5.1-beta.1 documentation</title>
    <link rel="stylesheet" href="../static/pulsar.css" type="text/css" />
    <link rel="stylesheet" href="../static/pygments.css" type="text/css" />
    <script type="text/javascript">
      var DOCUMENTATION_OPTIONS = {
        URL_ROOT:    '../',
        VERSION:     '0.5.1-beta.1',
        COLLAPSE_INDEX: false,
        FILE_SUFFIX: '.html',
        HAS_SOURCE:  true
      };
    </script>
    <script type="text/javascript" src="../static/jquery.js"></script>
    <script type="text/javascript" src="../static/underscore.js"></script>
    <script type="text/javascript" src="../static/doctools.js"></script>
    <link rel="shortcut icon" href="../static/Game_of_life_pulsar.gif"/>
    <link rel="top" title="pulsar v0.5.1-beta.1 documentation" href="../index.html" />
    <link rel="next" title="Twisted Integration" href="twisted.html" />
    <link rel="prev" title="WebSockets" href="websockets.html" /> 
  </head>
  <body>

    <div class="related">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="../genindex.html" title="General Index"
             accesskey="I">index</a></li>
        <li class="right" >
          <a href="../py-modindex.html" title="Python Module Index"
             >modules</a> |</li>
        <li class="right" >
          <a href="twisted.html" title="Twisted Integration"
             accesskey="N">next</a> |</li>
        <li class="right" >
          <a href="websockets.html" title="WebSockets"
             accesskey="P">previous</a> |</li>
        <li><a href="../index.html">pulsar v0.5.1-beta.1 documentation</a> &raquo;</li> 
      </ul>
    </div>
<div class="deck">
<div class="header">
    
        <p class="developmentversion">
        Documentation for pulsar's DEVELOPMENT version. Get the 
        <a href="http://packages.python.org/pulsar/apps/pubsub.html">release docs here</a>.
        </p>
    
</div>
</div>
  

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          <div class="body">
            
  <div class="section" id="module-pulsar.apps.pubsub">
<span id="publish-subscribe"></span><span id="apps-pubsub"></span><h1>Publish/Subscribe<a class="headerlink" href="#module-pulsar.apps.pubsub" title="Permalink to this headline">¶</a></h1>
<p>The <a class="reference internal" href="#module-pulsar.apps.pubsub" title="pulsar.apps.pubsub"><tt class="xref py py-mod docutils literal"><span class="pre">pulsar.apps.pubsub</span></tt></a> implements a middleware
handler for the Publish/Subscribe pattern.</p>
<blockquote class="epigraph">
<div><p>In software architecture, publish/subscribe is a messaging pattern where
senders of messages, called publishers, do not program the messages to
be sent directly to specific receivers, called subscribers.
Instead, published messages are characterized into classes, without
knowledge of what, if any, subscribers there may be. Similarly, subscribers
express interest in one or more classes, and only receive messages that are
of interest, without knowledge of what, if any, publishers there are.</p>
<p class="attribution">&mdash;<a class="reference external" href="http://en.wikipedia.org/wiki/Publish%E2%80%93subscribe_pattern">wikipedia</a></p>
</div></blockquote>
<p>When using this middleware, one starts by creating a <a class="reference internal" href="#pulsar.apps.pubsub.PubSub" title="pulsar.apps.pubsub.PubSub"><tt class="xref py py-class docutils literal"><span class="pre">PubSub</span></tt></a> handler:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="kn">from</span> <span class="nn">pulsar.apps.pubsub</span> <span class="kn">import</span> <span class="n">PubSub</span>

<span class="n">pubsub</span> <span class="o">=</span> <span class="n">PubSub</span><span class="p">(</span><span class="n">connection_string</span><span class="o">=</span><span class="bp">None</span><span class="p">,</span> <span class="o">...</span><span class="p">)</span>
</pre></div>
</div>
<p>The <tt class="docutils literal"><span class="pre">connection_string</span></tt> parameter is needed in order to select the backend
to use. If not supplied, the default <tt class="docutils literal"><span class="pre">local://</span></tt> backend is used.</p>
<div class="section" id="pubsub-handler">
<h2>PubSub handler<a class="headerlink" href="#pubsub-handler" title="Permalink to this headline">¶</a></h2>
<dl class="class">
<dt id="pulsar.apps.pubsub.PubSub">
<em class="property">class </em><tt class="descclassname">pulsar.apps.pubsub.</tt><tt class="descname">PubSub</tt><big>(</big><em>backend=None</em>, <em>encoder=None</em>, <em>**params</em><big>)</big><a class="reference internal" href="../modules/pulsar/apps/pubsub.html#PubSub"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pulsar.apps.pubsub.PubSub" title="Permalink to this definition">¶</a></dt>
<dd><p>Publish/Subscribe paradigm handler.</p>
<dl class="attribute">
<dt id="pulsar.apps.pubsub.PubSub.backend">
<tt class="descname">backend</tt><a class="headerlink" href="#pulsar.apps.pubsub.PubSub.backend" title="Permalink to this definition">¶</a></dt>
<dd><p>The <a class="reference internal" href="#pulsar.apps.pubsub.PubSubBackend" title="pulsar.apps.pubsub.PubSubBackend"><tt class="xref py py-class docutils literal"><span class="pre">PubSubBackend</span></tt></a> for this handler.</p>
</dd></dl>

<dl class="attribute">
<dt id="pulsar.apps.pubsub.PubSub.encoder">
<tt class="descname">encoder</tt><a class="headerlink" href="#pulsar.apps.pubsub.PubSub.encoder" title="Permalink to this definition">¶</a></dt>
<dd><p>Optional callable which encode the messages before they are published.</p>
</dd></dl>

<dl class="attribute">
<dt id="pulsar.apps.pubsub.PubSub.clients">
<tt class="descname">clients</tt><a class="reference internal" href="../modules/pulsar/apps/pubsub.html#PubSub.clients"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pulsar.apps.pubsub.PubSub.clients" title="Permalink to this definition">¶</a></dt>
<dd><p>Set of all clients for this <a class="reference internal" href="#pulsar.apps.pubsub.PubSub" title="pulsar.apps.pubsub.PubSub"><tt class="xref py py-class docutils literal"><span class="pre">PubSub</span></tt></a> handler.</p>
</dd></dl>

<dl class="method">
<dt id="pulsar.apps.pubsub.PubSub.add_client">
<tt class="descname">add_client</tt><big>(</big><em>client</em><big>)</big><a class="reference internal" href="../modules/pulsar/apps/pubsub.html#PubSub.add_client"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pulsar.apps.pubsub.PubSub.add_client" title="Permalink to this definition">¶</a></dt>
<dd><p>Add a new <tt class="docutils literal"><span class="pre">client</span></tt> to the set of all <a class="reference internal" href="#pulsar.apps.pubsub.PubSub.clients" title="pulsar.apps.pubsub.PubSub.clients"><tt class="xref py py-attr docutils literal"><span class="pre">clients</span></tt></a>. Clients
must have the <tt class="docutils literal"><span class="pre">write</span></tt> method available. When a new message is received
from the publisher, the <tt class="xref py py-meth docutils literal"><span class="pre">broadcast()</span></tt> method will notify all
<a class="reference internal" href="#pulsar.apps.pubsub.PubSub.clients" title="pulsar.apps.pubsub.PubSub.clients"><tt class="xref py py-attr docutils literal"><span class="pre">clients</span></tt></a> via the <tt class="docutils literal"><span class="pre">write</span></tt> method.</p>
</dd></dl>

<dl class="method">
<dt id="pulsar.apps.pubsub.PubSub.remove_client">
<tt class="descname">remove_client</tt><big>(</big><em>client</em><big>)</big><a class="headerlink" href="#pulsar.apps.pubsub.PubSub.remove_client" title="Permalink to this definition">¶</a></dt>
<dd><p>Remove <em>client</em> from the set of all <a class="reference internal" href="#pulsar.apps.pubsub.PubSub.clients" title="pulsar.apps.pubsub.PubSub.clients"><tt class="xref py py-attr docutils literal"><span class="pre">clients</span></tt></a>.</p>
</dd></dl>

<dl class="method">
<dt id="pulsar.apps.pubsub.PubSub.publish">
<tt class="descname">publish</tt><big>(</big><em>channel</em>, <em>message</em><big>)</big><a class="reference internal" href="../modules/pulsar/apps/pubsub.html#PubSub.publish"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pulsar.apps.pubsub.PubSub.publish" title="Permalink to this definition">¶</a></dt>
<dd><p>Publish a <tt class="docutils literal"><span class="pre">message</span></tt> to <tt class="docutils literal"><span class="pre">channel</span></tt>. It invokes the
<a class="reference internal" href="#pulsar.apps.pubsub.PubSubBackend.publish" title="pulsar.apps.pubsub.PubSubBackend.publish"><tt class="xref py py-meth docutils literal"><span class="pre">PubSubBackend.publish()</span></tt></a> method after the message has been encoded
via the <a class="reference internal" href="#pulsar.apps.pubsub.PubSub.encoder" title="pulsar.apps.pubsub.PubSub.encoder"><tt class="xref py py-attr docutils literal"><span class="pre">encoder</span></tt></a> callable (if available).</p>
</dd></dl>

<dl class="method">
<dt id="pulsar.apps.pubsub.PubSub.subscribe">
<tt class="descname">subscribe</tt><big>(</big><em>*channels</em><big>)</big><a class="headerlink" href="#pulsar.apps.pubsub.PubSub.subscribe" title="Permalink to this definition">¶</a></dt>
<dd><p>Subscribe to the server which publish messages. Must be
implemented by subclasses.</p>
</dd></dl>

<dl class="method">
<dt id="pulsar.apps.pubsub.PubSub.unsubscribe">
<tt class="descname">unsubscribe</tt><big>(</big><em>*channels</em><big>)</big><a class="headerlink" href="#pulsar.apps.pubsub.PubSub.unsubscribe" title="Permalink to this definition">¶</a></dt>
<dd><p>Un-subscribe to the server which publish messages. Must be
implemented by subclasses.</p>
</dd></dl>

<dl class="method">
<dt id="pulsar.apps.pubsub.PubSub.close">
<tt class="descname">close</tt><big>(</big><big>)</big><a class="headerlink" href="#pulsar.apps.pubsub.PubSub.close" title="Permalink to this definition">¶</a></dt>
<dd><p>Close connections</p>
</dd></dl>

</dd></dl>

</div>
<div class="section" id="pubsub-backend">
<h2>PubSub backend<a class="headerlink" href="#pubsub-backend" title="Permalink to this headline">¶</a></h2>
<dl class="class">
<dt id="pulsar.apps.pubsub.PubSubBackend">
<em class="property">class </em><tt class="descclassname">pulsar.apps.pubsub.</tt><tt class="descname">PubSubBackend</tt><big>(</big><em>scheme</em>, <em>connection_string</em>, <em>name=None</em>, <em>**params</em><big>)</big><a class="headerlink" href="#pulsar.apps.pubsub.PubSubBackend" title="Permalink to this definition">¶</a></dt>
<dd><p>Publish/Subscribe Backend interface.</p>
<dl class="attribute">
<dt id="pulsar.apps.pubsub.PubSubBackend.clients">
<tt class="descname">clients</tt><a class="headerlink" href="#pulsar.apps.pubsub.PubSubBackend.clients" title="Permalink to this definition">¶</a></dt>
<dd><p>Set of all clients for this <a class="reference internal" href="#pulsar.apps.pubsub.PubSub" title="pulsar.apps.pubsub.PubSub"><tt class="xref py py-class docutils literal"><span class="pre">PubSub</span></tt></a> handler.</p>
</dd></dl>

<dl class="method">
<dt id="pulsar.apps.pubsub.PubSubBackend.add_client">
<tt class="descname">add_client</tt><big>(</big><em>client</em><big>)</big><a class="headerlink" href="#pulsar.apps.pubsub.PubSubBackend.add_client" title="Permalink to this definition">¶</a></dt>
<dd><p>Add a new <tt class="docutils literal"><span class="pre">client</span></tt> to the set of all <a class="reference internal" href="#pulsar.apps.pubsub.PubSubBackend.clients" title="pulsar.apps.pubsub.PubSubBackend.clients"><tt class="xref py py-attr docutils literal"><span class="pre">clients</span></tt></a>. Clients
must have the <tt class="docutils literal"><span class="pre">write</span></tt> method available. When a new message is received
from the publisher, the <a class="reference internal" href="#pulsar.apps.pubsub.PubSubBackend.broadcast" title="pulsar.apps.pubsub.PubSubBackend.broadcast"><tt class="xref py py-meth docutils literal"><span class="pre">broadcast()</span></tt></a> method will notify all
<a class="reference internal" href="#pulsar.apps.pubsub.PubSubBackend.clients" title="pulsar.apps.pubsub.PubSubBackend.clients"><tt class="xref py py-attr docutils literal"><span class="pre">clients</span></tt></a> via the <tt class="docutils literal"><span class="pre">write</span></tt> method.</p>
</dd></dl>

<dl class="method">
<dt id="pulsar.apps.pubsub.PubSubBackend.broadcast">
<tt class="descname">broadcast</tt><big>(</big><em>channel</em>, <em>message</em><big>)</big><a class="headerlink" href="#pulsar.apps.pubsub.PubSubBackend.broadcast" title="Permalink to this definition">¶</a></dt>
<dd><p>Broadcast <tt class="docutils literal"><span class="pre">message</span></tt> to all <a class="reference internal" href="#pulsar.apps.pubsub.PubSubBackend.clients" title="pulsar.apps.pubsub.PubSubBackend.clients"><tt class="xref py py-attr docutils literal"><span class="pre">clients</span></tt></a>.</p>
</dd></dl>

<dl class="attribute">
<dt>
<tt class="descname">clients</tt></dt>
<dd><p>The set of clients for this <a class="reference internal" href="#pulsar.apps.pubsub.PubSub" title="pulsar.apps.pubsub.PubSub"><tt class="xref py py-class docutils literal"><span class="pre">PubSub</span></tt></a> handler.</p>
</dd></dl>

<dl class="method">
<dt id="pulsar.apps.pubsub.PubSubBackend.close">
<tt class="descname">close</tt><big>(</big><big>)</big><a class="headerlink" href="#pulsar.apps.pubsub.PubSubBackend.close" title="Permalink to this definition">¶</a></dt>
<dd><p>Close this <a class="reference internal" href="#pulsar.apps.pubsub.PubSubBackend" title="pulsar.apps.pubsub.PubSubBackend"><tt class="xref py py-class docutils literal"><span class="pre">PubSubBackend</span></tt></a>.</p>
</dd></dl>

<dl class="method">
<dt id="pulsar.apps.pubsub.PubSubBackend.decode">
<tt class="descname">decode</tt><big>(</big><em>message</em><big>)</big><a class="headerlink" href="#pulsar.apps.pubsub.PubSubBackend.decode" title="Permalink to this definition">¶</a></dt>
<dd><p>Convert message to a string.</p>
</dd></dl>

<dl class="method">
<dt id="pulsar.apps.pubsub.PubSubBackend.publish">
<tt class="descname">publish</tt><big>(</big><em>channel</em>, <em>message</em><big>)</big><a class="headerlink" href="#pulsar.apps.pubsub.PubSubBackend.publish" title="Permalink to this definition">¶</a></dt>
<dd><p>Publish a <tt class="docutils literal"><span class="pre">message</span></tt> into <tt class="docutils literal"><span class="pre">channel</span></tt>. Must be implemented
by subclasses.</p>
</dd></dl>

<dl class="method">
<dt id="pulsar.apps.pubsub.PubSubBackend.remove_client">
<tt class="descname">remove_client</tt><big>(</big><em>client</em><big>)</big><a class="headerlink" href="#pulsar.apps.pubsub.PubSubBackend.remove_client" title="Permalink to this definition">¶</a></dt>
<dd><p>Remove <em>client</em> from the set of all <a class="reference internal" href="#pulsar.apps.pubsub.PubSubBackend.clients" title="pulsar.apps.pubsub.PubSubBackend.clients"><tt class="xref py py-attr docutils literal"><span class="pre">clients</span></tt></a>.</p>
</dd></dl>

<dl class="method">
<dt id="pulsar.apps.pubsub.PubSubBackend.subscribe">
<tt class="descname">subscribe</tt><big>(</big><em>*channels</em><big>)</big><a class="headerlink" href="#pulsar.apps.pubsub.PubSubBackend.subscribe" title="Permalink to this definition">¶</a></dt>
<dd><p>Subscribe to the server which publish messages. Must be
implemented by subclasses.</p>
</dd></dl>

<dl class="method">
<dt id="pulsar.apps.pubsub.PubSubBackend.unsubscribe">
<tt class="descname">unsubscribe</tt><big>(</big><em>*channels</em><big>)</big><a class="headerlink" href="#pulsar.apps.pubsub.PubSubBackend.unsubscribe" title="Permalink to this definition">¶</a></dt>
<dd><p>Un-subscribe to the server which publish messages. Must be
implemented by subclasses.</p>
</dd></dl>

</dd></dl>

</div>
</div>


          </div>
        </div>
      </div>
      <div class="sphinxsidebar">
        <div class="sphinxsidebarwrapper"><p class="logo">
<a href="../index.html">
  <img class="logo" width="200" src="../static/pulsar.png" alt="pulsar" title="Pulsar"/>
</a>
</p>
  <h3><a href="../index.html">Table Of Contents</a></h3>
  <ul>
<li><a class="reference internal" href="#">Publish/Subscribe</a><ul>
<li><a class="reference internal" href="#pubsub-handler">PubSub handler</a></li>
<li><a class="reference internal" href="#pubsub-backend">PubSub backend</a></li>
</ul>
</li>
</ul>

  <h4>Previous topic</h4>
  <p class="topless"><a href="websockets.html"
                        title="previous chapter">WebSockets</a></p>
  <h4>Next topic</h4>
  <p class="topless"><a href="twisted.html"
                        title="next chapter">Twisted Integration</a></p>
  <h3>This Page</h3>
  <ul class="this-page-menu">
    <li><a href="../sources/apps/pubsub.txt"
           rel="nofollow">Show Source</a></li>
  </ul>
<div id="searchbox" style="display: none">
  <h3>Quick search</h3>
    <form class="search" action="../search.html" method="get">
      <input type="text" name="q" size="18" />
      <input type="submit" value="Go" />
      <input type="hidden" name="check_keywords" value="yes" />
      <input type="hidden" name="area" value="default" />
    </form>
    <p class="searchtip" style="font-size: 90%">
    Enter search terms or a module, class or function name.
    </p>
</div>
<script type="text/javascript">$('#searchbox').show(0);</script>
        </div>
      </div>
      <div class="clearer"></div>
    </div>

    <div class="footer">
        &copy; Copyright 2011-2013, Luca Sbardella.
      Created using <a href="http://sphinx.pocoo.org/">Sphinx</a> 1.0.7.
    </div>
<script type="text/javascript">

  var _gaq = _gaq || [];
  
  _gaq.push(['_setAccount', 'UA-3900561-8']);
  
  _gaq.push(['_trackPageview']);

  (function() {
    var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
    ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
    var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
  })();

</script>

  </body>
</html>