<!DOCTYPE html>



<html>
<head>
<meta charset='utf-8'>
<meta http-equiv='X-UA-Compatible' content='IE=edge,chrome=1'>
<meta name='viewport' content='width=device-width, initial-scale=1.0, maximum-scale=1'>
<meta name="apple-mobile-web-app-capable" content="yes">

    <title>Application API &mdash; pulsar 0.8.4-beta.0 documentation</title>
    
    <link rel="stylesheet" href="../static/pulsar.css" type="text/css" />
    <link rel="stylesheet" href="../static/pygments.css" type="text/css" />
    <link rel="stylesheet" href="http://netdna.bootstrapcdn.com/bootstrap/3.0.3/css/bootstrap.min.css" type="text/css" />
    <link rel="stylesheet" href="http://netdna.bootstrapcdn.com/font-awesome/4.0.3/css/font-awesome.min.css" type="text/css" />
    
    <script type="text/javascript">
      var DOCUMENTATION_OPTIONS = {
        URL_ROOT:    '../',
        VERSION:     '0.8.4-beta.0',
        COLLAPSE_INDEX: false,
        FILE_SUFFIX: '.html',
        HAS_SOURCE:  true
      };
    </script>
    <script type="text/javascript" src="../static/jquery.js"></script>
    <script type="text/javascript" src="../static/underscore.js"></script>
    <script type="text/javascript" src="../static/doctools.js"></script>
    <link rel="shortcut icon" href="../static/favicon.ico"/>
    <link rel="top" title="pulsar 0.8.4-beta.0 documentation" href="../index.html" />
    <link rel="up" title="API" href="index.html" />
    <link rel="next" title="Tools" href="utilities.html" />
    <link rel="prev" title="Protocols/Transports API" href="protocols.html" /> 
</head>
 <body>



    <div class="related">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="../genindex.html" title="General Index"
             accesskey="I">index</a></li>
        <li class="right" >
          <a href="../py-modindex.html" title="Python Module Index"
             >modules</a> |</li>
        <li class="right" >
          <a href="utilities.html" title="Tools"
             accesskey="N">next</a> |</li>
        <li class="right" >
          <a href="protocols.html" title="Protocols/Transports API"
             accesskey="P">previous</a> |</li>
        <li><a href="../index.html">pulsar 0.8.4-beta.0 documentation</a> &raquo;</li>
          <li><a href="index.html" accesskey="U">API</a> &raquo;</li> 
      </ul>
    </div>
<div class="deck">
<div class="header">
    
        <p class="developmentversion">
        Documentation for pulsar's DEVELOPMENT version. Get the
        <a href="http://pythonhosted.org/pulsar/api/application.html">release docs here</a>.
        </p>
    
</div>
</div>
  

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          <div class="body">
            
  <div class="section" id="module-pulsar.apps">
<span id="id1"></span><span id="application-api"></span><h1>Application API<a class="headerlink" href="#module-pulsar.apps" title="Permalink to this headline">¶</a></h1>
<p>This module implements the main classes for pulsar application framework. The
framework is built on top of pulsar asynchronous engine and allows to
implement servers with very little effort. The main classes here are:
<a class="reference internal" href="#pulsar.apps.Application" title="pulsar.apps.Application"><tt class="xref py py-class docutils literal"><span class="pre">Application</span></tt></a> and <a class="reference internal" href="#pulsar.apps.MultiApp" title="pulsar.apps.MultiApp"><tt class="xref py py-class docutils literal"><span class="pre">MultiApp</span></tt></a> which, has the name suggests, is
a factory of several <a class="reference internal" href="#pulsar.apps.Application" title="pulsar.apps.Application"><tt class="xref py py-class docutils literal"><span class="pre">Application</span></tt></a> running on a single server.
The <a class="reference internal" href="#pulsar.apps.Configurator" title="pulsar.apps.Configurator"><tt class="xref py py-class docutils literal"><span class="pre">Configurator</span></tt></a> is a mixin used as base class for both
<a class="reference internal" href="#pulsar.apps.Application" title="pulsar.apps.Application"><tt class="xref py py-class docutils literal"><span class="pre">Application</span></tt></a> and <a class="reference internal" href="#pulsar.apps.MultiApp" title="pulsar.apps.MultiApp"><tt class="xref py py-class docutils literal"><span class="pre">MultiApp</span></tt></a>.</p>
<div class="section" id="configurator">
<h2>Configurator<a class="headerlink" href="#configurator" title="Permalink to this headline">¶</a></h2>
<dl class="class">
<dt id="pulsar.apps.Configurator">
<em class="property">class </em><tt class="descclassname">pulsar.apps.</tt><tt class="descname">Configurator</tt><big>(</big><em>name=None</em>, <em>description=None</em>, <em>epilog=None</em>, <em>version=None</em>, <em>argv=None</em>, <em>parse_console=True</em>, <em>script=None</em>, <em>cfg=None</em>, <em>load_config=True</em>, <em>**params</em><big>)</big><a class="reference internal" href="../modules/pulsar/apps.html#Configurator"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pulsar.apps.Configurator" title="Permalink to this definition">¶</a></dt>
<dd><p>A mixin for configuring and loading a pulsar application server.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>name</strong> &#8211; to override the class <a class="reference internal" href="#pulsar.apps.Configurator.name" title="pulsar.apps.Configurator.name"><tt class="xref py py-attr docutils literal"><span class="pre">name</span></tt></a> attribute.</li>
<li><strong>description</strong> &#8211; to override the class <tt class="xref py py-attr docutils literal"><span class="pre">cfg.description</span></tt>
attribute.</li>
<li><strong>epilog</strong> &#8211; to override the class <tt class="xref py py-attr docutils literal"><span class="pre">cfg.epilog</span></tt> attribute.</li>
<li><strong>version</strong> &#8211; Optional version of this application, it overrides
the class <tt class="xref py py-attr docutils literal"><span class="pre">cfg.version</span></tt> attribute.</li>
<li><strong>argv</strong> &#8211; Optional list of command line parameters to parse, if
not supplied the <tt class="xref py py-attr docutils literal"><span class="pre">sys.argv</span></tt> list will be used. The parameter
is only relevant if <tt class="docutils literal"><span class="pre">parse_console</span></tt> is <tt class="docutils literal"><span class="pre">True</span></tt>.</li>
<li><strong>parse_console</strong> &#8211; <tt class="docutils literal"><span class="pre">True</span></tt> (default) if the console parameters
needs parsing.</li>
<li><strong>script</strong> &#8211; Optional string which set the <a class="reference internal" href="#pulsar.apps.Configurator.script" title="pulsar.apps.Configurator.script"><tt class="xref py py-attr docutils literal"><span class="pre">script</span></tt></a>
attribute.</li>
<li><strong>params</strong> &#8211; a dictionary of configuration parameters which
overrides the defaults and the <a class="reference internal" href="#pulsar.apps.Configurator.cfg" title="pulsar.apps.Configurator.cfg"><tt class="xref py py-attr docutils literal"><span class="pre">cfg</span></tt></a> class attribute.
They will be overwritten by a <a class="reference internal" href="../settings.html#setting-config"><em>config file</em></a>
or command line arguments.</li>
</ul>
</td>
</tr>
</tbody>
</table>
<dl class="attribute">
<dt id="pulsar.apps.Configurator.name">
<tt class="descname">name</tt><a class="headerlink" href="#pulsar.apps.Configurator.name" title="Permalink to this definition">¶</a></dt>
<dd><p>The name is unique if this is an <a class="reference internal" href="#pulsar.apps.Application" title="pulsar.apps.Application"><tt class="xref py py-class docutils literal"><span class="pre">Application</span></tt></a>. In this
case it defines the application monitor name as well and can be
access in the arbiter domain via the <a class="reference internal" href="#pulsar.apps.get_application" title="pulsar.apps.get_application"><tt class="xref py py-func docutils literal"><span class="pre">get_application()</span></tt></a>
function.</p>
</dd></dl>

<dl class="attribute">
<dt id="pulsar.apps.Configurator.argv">
<tt class="descname">argv</tt><a class="headerlink" href="#pulsar.apps.Configurator.argv" title="Permalink to this definition">¶</a></dt>
<dd><p>Optional list of command line parameters. If not available the
<tt class="xref py py-attr docutils literal"><span class="pre">sys.argv</span></tt> list will be used when parsing the console.</p>
</dd></dl>

<dl class="attribute">
<dt id="pulsar.apps.Configurator.cfg">
<tt class="descname">cfg</tt><a class="headerlink" href="#pulsar.apps.Configurator.cfg" title="Permalink to this definition">¶</a></dt>
<dd><p>The <a class="reference internal" href="utilities.html#pulsar.utils.config.Config" title="pulsar.utils.config.Config"><tt class="xref py py-class docutils literal"><span class="pre">Config</span></tt></a> for this <a class="reference internal" href="#pulsar.apps.Configurator" title="pulsar.apps.Configurator"><tt class="xref py py-class docutils literal"><span class="pre">Configurator</span></tt></a>.
If set as class attribute it will be replaced during initialisation.</p>
<p>Default: <tt class="docutils literal"><span class="pre">None</span></tt>.</p>
</dd></dl>

<dl class="attribute">
<dt id="pulsar.apps.Configurator.console_parsed">
<tt class="descname">console_parsed</tt><a class="headerlink" href="#pulsar.apps.Configurator.console_parsed" title="Permalink to this definition">¶</a></dt>
<dd><p><tt class="docutils literal"><span class="pre">True</span></tt> if this application parsed the console before starting.</p>
</dd></dl>

<dl class="attribute">
<dt id="pulsar.apps.Configurator.script">
<tt class="descname">script</tt><a class="headerlink" href="#pulsar.apps.Configurator.script" title="Permalink to this definition">¶</a></dt>
<dd><p>Full path of the script which starts the application or <tt class="docutils literal"><span class="pre">None</span></tt>.
Evaluated during initialization via the <a class="reference internal" href="#pulsar.apps.Configurator.python_path" title="pulsar.apps.Configurator.python_path"><tt class="xref py py-meth docutils literal"><span class="pre">python_path()</span></tt></a> method.</p>
</dd></dl>

<dl class="attribute">
<dt id="pulsar.apps.Configurator.version">
<tt class="descname">version</tt><a class="reference internal" href="../modules/pulsar/apps.html#Configurator.version"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pulsar.apps.Configurator.version" title="Permalink to this definition">¶</a></dt>
<dd><p>Version of this <a class="reference internal" href="#pulsar.apps.Application" title="pulsar.apps.Application"><tt class="xref py py-class docutils literal"><span class="pre">Application</span></tt></a></p>
</dd></dl>

<dl class="attribute">
<dt id="pulsar.apps.Configurator.root_dir">
<tt class="descname">root_dir</tt><a class="reference internal" href="../modules/pulsar/apps.html#Configurator.root_dir"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pulsar.apps.Configurator.root_dir" title="Permalink to this definition">¶</a></dt>
<dd><p>Root directory of this <a class="reference internal" href="#pulsar.apps.Configurator" title="pulsar.apps.Configurator"><tt class="xref py py-class docutils literal"><span class="pre">Configurator</span></tt></a>.</p>
<p>Evaluated from the <a class="reference internal" href="#pulsar.apps.Configurator.script" title="pulsar.apps.Configurator.script"><tt class="xref py py-attr docutils literal"><span class="pre">script</span></tt></a> attribute.</p>
</dd></dl>

<dl class="method">
<dt id="pulsar.apps.Configurator.python_path">
<tt class="descname">python_path</tt><big>(</big><em>script</em><big>)</big><a class="reference internal" href="../modules/pulsar/apps.html#Configurator.python_path"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pulsar.apps.Configurator.python_path" title="Permalink to this definition">¶</a></dt>
<dd><p>Called during initialisation to obtain the <tt class="docutils literal"><span class="pre">script</span></tt> name and
to add the <a class="reference internal" href="#pulsar.apps.Configurator.script" title="pulsar.apps.Configurator.script"><tt class="xref py py-attr docutils literal"><span class="pre">script</span></tt></a> directory to the python path if not in the
path already.
If <tt class="docutils literal"><span class="pre">script</span></tt> does not evalueate to <tt class="docutils literal"><span class="pre">True</span></tt> it is evaluated from
the <tt class="docutils literal"><span class="pre">__main__</span></tt> import. Returns the real path of the python
script which runs the application.</p>
</dd></dl>

<dl class="method">
<dt id="pulsar.apps.Configurator.on_config">
<tt class="descname">on_config</tt><big>(</big><em>arbiter</em><big>)</big><a class="reference internal" href="../modules/pulsar/apps.html#Configurator.on_config"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pulsar.apps.Configurator.on_config" title="Permalink to this definition">¶</a></dt>
<dd><p>Callback when configuration is loaded.</p>
<p>This is a chance to do applications specific checks before the
concurrent machinery is put into place.</p>
<p>If it returns <tt class="docutils literal"><span class="pre">False</span></tt> the application will abort.</p>
</dd></dl>

<dl class="method">
<dt id="pulsar.apps.Configurator.load_config">
<tt class="descname">load_config</tt><big>(</big><big>)</big><a class="reference internal" href="../modules/pulsar/apps.html#Configurator.load_config"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pulsar.apps.Configurator.load_config" title="Permalink to this definition">¶</a></dt>
<dd><p>Load the application configuration from a file and/or
from the command line.</p>
<p>Called during application initialisation. The parameters
overriding order is the following:</p>
<ul class="simple">
<li>default parameters.</li>
<li>the key-valued params passed in the initialisation.</li>
<li>the parameters in the optional configuration file</li>
<li>the parameters passed in the command line.</li>
</ul>
</dd></dl>

<dl class="method">
<dt id="pulsar.apps.Configurator.start">
<tt class="descname">start</tt><big>(</big><big>)</big><a class="reference internal" href="../modules/pulsar/apps.html#Configurator.start"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pulsar.apps.Configurator.start" title="Permalink to this definition">¶</a></dt>
<dd><p>Invoked the application callable method and start
the <a class="reference internal" href="actor.html#pulsar.async.arbiter.Arbiter" title="pulsar.async.arbiter.Arbiter"><tt class="xref py py-class docutils literal"><span class="pre">Arbiter</span></tt></a> if it wasn&#8217;t already started.</p>
<p>It returns a <a class="reference external" href="http://python.readthedocs.org/en/latest/library/asyncio-task.html#asyncio.Future" title="(in Python v3.5)"><tt class="xref py py-class docutils literal"><span class="pre">Future</span></tt></a> called back once the
application/applications are running. It returns <tt class="docutils literal"><span class="pre">None</span></tt> if
called more than once.</p>
</dd></dl>

<dl class="classmethod">
<dt id="pulsar.apps.Configurator.create_config">
<em class="property">classmethod </em><tt class="descname">create_config</tt><big>(</big><em>params</em>, <em>prefix=None</em>, <em>name=None</em><big>)</big><a class="reference internal" href="../modules/pulsar/apps.html#Configurator.create_config"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pulsar.apps.Configurator.create_config" title="Permalink to this definition">¶</a></dt>
<dd><p>Create a new <a class="reference internal" href="utilities.html#pulsar.utils.config.Config" title="pulsar.utils.config.Config"><tt class="xref py py-class docutils literal"><span class="pre">Config</span></tt></a> container.</p>
<p>Invoked during initialisation, it overrides defaults
with <tt class="docutils literal"><span class="pre">params</span></tt> and apply the <tt class="docutils literal"><span class="pre">prefix</span></tt> to non global
settings.</p>
</dd></dl>

</dd></dl>

</div>
<div class="section" id="application">
<h2>Application<a class="headerlink" href="#application" title="Permalink to this headline">¶</a></h2>
<dl class="class">
<dt id="pulsar.apps.Application">
<em class="property">class </em><tt class="descclassname">pulsar.apps.</tt><tt class="descname">Application</tt><big>(</big><em>callable=None</em>, <em>load_config=True</em>, <em>**params</em><big>)</big><a class="reference internal" href="../modules/pulsar/apps.html#Application"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pulsar.apps.Application" title="Permalink to this definition">¶</a></dt>
<dd><p>An application interface.</p>
<p>Applications can be of any sorts or forms and the library is shipped with
several battery included examples in the <a class="reference internal" href="#module-pulsar.apps" title="pulsar.apps"><tt class="xref py py-mod docutils literal"><span class="pre">pulsar.apps</span></tt></a> module.</p>
<p>These are the most important facts about a pulsar <a class="reference internal" href="#pulsar.apps.Application" title="pulsar.apps.Application"><tt class="xref py py-class docutils literal"><span class="pre">Application</span></tt></a>:</p>
<ul class="simple">
<li>It derives from <a class="reference internal" href="#pulsar.apps.Configurator" title="pulsar.apps.Configurator"><tt class="xref py py-class docutils literal"><span class="pre">Configurator</span></tt></a> so that it has all the
functionalities to parse command line arguments and setup the
<a class="reference internal" href="#pulsar.apps.Configurator.cfg" title="pulsar.apps.Configurator.cfg"><tt class="xref py py-attr docutils literal"><span class="pre">cfg</span></tt></a> placeholder of <a class="reference internal" href="utilities.html#pulsar.utils.config.Setting" title="pulsar.utils.config.Setting"><tt class="xref py py-class docutils literal"><span class="pre">Setting</span></tt></a>.</li>
<li>Instances of an <a class="reference internal" href="#pulsar.apps.Application" title="pulsar.apps.Application"><tt class="xref py py-class docutils literal"><span class="pre">Application</span></tt></a> are callable objects accepting
the calling actor as only argument. The callable method should
not be overwritten, instead one should overwrites the application
hooks available.</li>
<li>When an <a class="reference internal" href="#pulsar.apps.Application" title="pulsar.apps.Application"><tt class="xref py py-class docutils literal"><span class="pre">Application</span></tt></a> is called for the first time,
a new <a class="reference internal" href="actor.html#pulsar.async.monitor.Monitor" title="pulsar.async.monitor.Monitor"><tt class="xref py py-class docutils literal"><span class="pre">Monitor</span></tt></a> instance is added to the
<a class="reference internal" href="actor.html#pulsar.async.arbiter.Arbiter" title="pulsar.async.arbiter.Arbiter"><tt class="xref py py-class docutils literal"><span class="pre">Arbiter</span></tt></a>, ready to perform its duties.</li>
</ul>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>callable</strong> &#8211; Initialise the <a class="reference internal" href="#pulsar.apps.Application.callable" title="pulsar.apps.Application.callable"><tt class="xref py py-attr docutils literal"><span class="pre">callable</span></tt></a> attribute.</li>
<li><strong>load_config</strong> &#8211; <p>If <tt class="docutils literal"><span class="pre">False</span></tt> the <a class="reference internal" href="#pulsar.apps.Configurator.load_config" title="pulsar.apps.Configurator.load_config"><tt class="xref py py-meth docutils literal"><span class="pre">load_config()</span></tt></a>
method is not invoked.</p>
<p>Default <tt class="docutils literal"><span class="pre">True</span></tt>.</p>
</li>
<li><strong>params</strong> &#8211; Passed to the <a class="reference internal" href="#pulsar.apps.Configurator" title="pulsar.apps.Configurator"><tt class="xref py py-class docutils literal"><span class="pre">Configurator</span></tt></a> initialiser.</li>
</ul>
</td>
</tr>
</tbody>
</table>
<dl class="attribute">
<dt id="pulsar.apps.Application.callable">
<tt class="descname">callable</tt><a class="headerlink" href="#pulsar.apps.Application.callable" title="Permalink to this definition">¶</a></dt>
<dd><p>Optional callable serving or configuring your application.
If provided, the callable must be picklable, therefore it is either
a function or a picklable object.</p>
<p>Default <tt class="docutils literal"><span class="pre">None</span></tt></p>
</dd></dl>

<dl class="method">
<dt id="pulsar.apps.Application.__call__">
<tt class="descname">__call__</tt><big>(</big><em>actor=None</em><big>)</big><a class="reference internal" href="../modules/pulsar/apps.html#Application.__call__"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pulsar.apps.Application.__call__" title="Permalink to this definition">¶</a></dt>
<dd><p>Register this application with the (optional) calling <tt class="docutils literal"><span class="pre">actor</span></tt>.</p>
<p>If an <tt class="docutils literal"><span class="pre">actor</span></tt> is available (either via the function argument or via
the <a class="reference internal" href="actor.html#pulsar.async.actor.get_actor" title="pulsar.async.actor.get_actor"><tt class="xref py py-func docutils literal"><span class="pre">get_actor()</span></tt></a> function) it must be
<a class="reference internal" href="actor.html#pulsar.async.arbiter.Arbiter" title="pulsar.async.arbiter.Arbiter"><tt class="xref py py-class docutils literal"><span class="pre">Arbiter</span></tt></a>, otherwise this call is no-op.</p>
<p>If no actor is available, it means this application starts
pulsar engine by creating the <a class="reference internal" href="actor.html#pulsar.async.arbiter.Arbiter" title="pulsar.async.arbiter.Arbiter"><tt class="xref py py-class docutils literal"><span class="pre">Arbiter</span></tt></a> with its
<a class="reference internal" href="../settings.html#setting-section-global-server-settings"><em>global settings</em></a>
copied to the arbiter <a class="reference internal" href="utilities.html#pulsar.utils.config.Config" title="pulsar.utils.config.Config"><tt class="xref py py-class docutils literal"><span class="pre">Config</span></tt></a> container.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Returns:</th><td class="field-body">the <tt class="docutils literal"><span class="pre">start</span></tt> one time event fired once this application
has fired it.</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="attribute">
<dt id="pulsar.apps.Application.stream">
<tt class="descname">stream</tt><a class="reference internal" href="../modules/pulsar/apps.html#Application.stream"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pulsar.apps.Application.stream" title="Permalink to this definition">¶</a></dt>
<dd><p>Actor stream handler.</p>
</dd></dl>

<dl class="method">
<dt id="pulsar.apps.Application.worker_start">
<tt class="descname">worker_start</tt><big>(</big><em>worker</em>, <em>exc=None</em><big>)</big><a class="reference internal" href="../modules/pulsar/apps.html#Application.worker_start"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pulsar.apps.Application.worker_start" title="Permalink to this definition">¶</a></dt>
<dd><p>Added to the <tt class="docutils literal"><span class="pre">start</span></tt> <a class="reference internal" href="../design.html#actor-hooks"><em>worker hook</em></a>.</p>
</dd></dl>

<dl class="method">
<dt id="pulsar.apps.Application.worker_info">
<tt class="descname">worker_info</tt><big>(</big><em>worker</em>, <em>info</em><big>)</big><a class="reference internal" href="../modules/pulsar/apps.html#Application.worker_info"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pulsar.apps.Application.worker_info" title="Permalink to this definition">¶</a></dt>
<dd><p>Hook to add additional entries to the worker <tt class="docutils literal"><span class="pre">info</span></tt> dictionary.</p>
</dd></dl>

<dl class="method">
<dt id="pulsar.apps.Application.worker_stopping">
<tt class="descname">worker_stopping</tt><big>(</big><em>worker</em>, <em>exc=None</em><big>)</big><a class="reference internal" href="../modules/pulsar/apps.html#Application.worker_stopping"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pulsar.apps.Application.worker_stopping" title="Permalink to this definition">¶</a></dt>
<dd><p>Added to the <tt class="docutils literal"><span class="pre">stopping</span></tt> <a class="reference internal" href="../design.html#actor-hooks"><em>worker hook</em></a>.</p>
</dd></dl>

<dl class="method">
<dt id="pulsar.apps.Application.actorparams">
<tt class="descname">actorparams</tt><big>(</big><em>monitor</em>, <em>params=None</em><big>)</big><a class="reference internal" href="../modules/pulsar/apps.html#Application.actorparams"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pulsar.apps.Application.actorparams" title="Permalink to this definition">¶</a></dt>
<dd><p>Hook to add additional entries when the monitor spawn new actors.</p>
</dd></dl>

<dl class="method">
<dt id="pulsar.apps.Application.monitor_start">
<tt class="descname">monitor_start</tt><big>(</big><em>monitor</em><big>)</big><a class="reference internal" href="../modules/pulsar/apps.html#Application.monitor_start"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pulsar.apps.Application.monitor_start" title="Permalink to this definition">¶</a></dt>
<dd><p>Callback by the monitor when starting.</p>
</dd></dl>

<dl class="method">
<dt id="pulsar.apps.Application.monitor_info">
<tt class="descname">monitor_info</tt><big>(</big><em>monitor</em>, <em>info</em><big>)</big><a class="reference internal" href="../modules/pulsar/apps.html#Application.monitor_info"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pulsar.apps.Application.monitor_info" title="Permalink to this definition">¶</a></dt>
<dd><p>Hook to add additional entries to the monitor <tt class="docutils literal"><span class="pre">info</span></tt> dictionary.</p>
</dd></dl>

<dl class="method">
<dt id="pulsar.apps.Application.monitor_stopping">
<tt class="descname">monitor_stopping</tt><big>(</big><em>monitor</em><big>)</big><a class="reference internal" href="../modules/pulsar/apps.html#Application.monitor_stopping"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pulsar.apps.Application.monitor_stopping" title="Permalink to this definition">¶</a></dt>
<dd><p>Callback by the monitor before stopping.</p>
</dd></dl>

<dl class="method">
<dt id="pulsar.apps.Application.monitor_task">
<tt class="descname">monitor_task</tt><big>(</big><em>monitor</em><big>)</big><a class="reference internal" href="../modules/pulsar/apps.html#Application.monitor_task"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pulsar.apps.Application.monitor_task" title="Permalink to this definition">¶</a></dt>
<dd><p>Executed by the <a class="reference internal" href="actor.html#pulsar.async.monitor.Monitor" title="pulsar.async.monitor.Monitor"><tt class="xref py py-class docutils literal"><span class="pre">Monitor</span></tt></a> serving this application
at each event loop.</p>
</dd></dl>

</dd></dl>

</div>
<div class="section" id="multi-app">
<h2>Multi App<a class="headerlink" href="#multi-app" title="Permalink to this headline">¶</a></h2>
<dl class="class">
<dt id="pulsar.apps.MultiApp">
<em class="property">class </em><tt class="descclassname">pulsar.apps.</tt><tt class="descname">MultiApp</tt><big>(</big><em>name=None</em>, <em>description=None</em>, <em>epilog=None</em>, <em>version=None</em>, <em>argv=None</em>, <em>parse_console=True</em>, <em>script=None</em>, <em>cfg=None</em>, <em>load_config=True</em>, <em>**params</em><big>)</big><a class="reference internal" href="../modules/pulsar/apps.html#MultiApp"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pulsar.apps.MultiApp" title="Permalink to this definition">¶</a></dt>
<dd><p>A <a class="reference internal" href="#pulsar.apps.MultiApp" title="pulsar.apps.MultiApp"><tt class="xref py py-class docutils literal"><span class="pre">MultiApp</span></tt></a> is a tool for creating several <a class="reference internal" href="#pulsar.apps.Application" title="pulsar.apps.Application"><tt class="xref py py-class docutils literal"><span class="pre">Application</span></tt></a>
and starting them at once.</p>
<p>It makes sure all <a class="reference internal" href="../settings.html#settings"><em>settings</em></a> for the
applications created are available in the command line.
Check the <a class="reference internal" href="../tutorials/taskqueue.html#examples.taskqueue.manage.server" title="examples.taskqueue.manage.server"><tt class="xref py py-class docutils literal"><span class="pre">server</span></tt></a> class in the
<a class="reference internal" href="../tutorials/taskqueue.html#tutorials-taskqueue"><em>taskqueue example</em></a> for an actual
implementation.</p>
<p><a class="reference internal" href="#pulsar.apps.MultiApp" title="pulsar.apps.MultiApp"><tt class="xref py py-class docutils literal"><span class="pre">MultiApp</span></tt></a> derives from <a class="reference internal" href="#pulsar.apps.Configurator" title="pulsar.apps.Configurator"><tt class="xref py py-class docutils literal"><span class="pre">Configurator</span></tt></a> and therefore
supports all its configuration utilities,
<a class="reference internal" href="#pulsar.apps.MultiApp.build" title="pulsar.apps.MultiApp.build"><tt class="xref py py-meth docutils literal"><span class="pre">build()</span></tt></a> is the only method which must be implemented by
subclasses.</p>
<p>A minimal example usage:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="kn">import</span> <span class="nn">pulsar</span>

<span class="k">class</span> <span class="nc">Server</span><span class="p">(</span><span class="n">pulsar</span><span class="o">.</span><span class="n">MultiApp</span><span class="p">):</span>

    <span class="k">def</span> <span class="nf">build</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="k">yield</span> <span class="bp">self</span><span class="o">.</span><span class="n">new_app</span><span class="p">(</span><span class="n">TaskQueue</span><span class="p">)</span>
        <span class="k">yield</span> <span class="bp">self</span><span class="o">.</span><span class="n">new_app</span><span class="p">(</span><span class="n">WSGIserver</span><span class="p">,</span> <span class="n">prefix</span><span class="o">=</span><span class="s">&quot;rpc&quot;</span><span class="p">,</span> <span class="nb">callable</span><span class="o">=...</span><span class="p">,</span> <span class="o">...</span><span class="p">)</span>
        <span class="k">yield</span> <span class="bp">self</span><span class="o">.</span><span class="n">new_app</span><span class="p">(</span><span class="n">WSGIserver</span><span class="p">,</span> <span class="n">prefix</span><span class="o">=</span><span class="s">&quot;web&quot;</span><span class="p">,</span> <span class="nb">callable</span><span class="o">=...</span><span class="p">,</span> <span class="o">...</span><span class="p">)</span>
</pre></div>
</div>
<dl class="method">
<dt id="pulsar.apps.MultiApp.build">
<tt class="descname">build</tt><big>(</big><big>)</big><a class="reference internal" href="../modules/pulsar/apps.html#MultiApp.build"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pulsar.apps.MultiApp.build" title="Permalink to this definition">¶</a></dt>
<dd><p>Virtual method, must be implemented by subclasses and return an
iterable over results obtained from calls to the
<a class="reference internal" href="#pulsar.apps.MultiApp.new_app" title="pulsar.apps.MultiApp.new_app"><tt class="xref py py-meth docutils literal"><span class="pre">new_app()</span></tt></a> method.</p>
</dd></dl>

<dl class="method">
<dt id="pulsar.apps.MultiApp.apps">
<tt class="descname">apps</tt><big>(</big><big>)</big><a class="reference internal" href="../modules/pulsar/apps.html#MultiApp.apps"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pulsar.apps.MultiApp.apps" title="Permalink to this definition">¶</a></dt>
<dd><p>List of <a class="reference internal" href="#pulsar.apps.Application" title="pulsar.apps.Application"><tt class="xref py py-class docutils literal"><span class="pre">Application</span></tt></a> for this <a class="reference internal" href="#pulsar.apps.MultiApp" title="pulsar.apps.MultiApp"><tt class="xref py py-class docutils literal"><span class="pre">MultiApp</span></tt></a>.</p>
<p>The list is lazily loaded from the <a class="reference internal" href="#pulsar.apps.MultiApp.build" title="pulsar.apps.MultiApp.build"><tt class="xref py py-meth docutils literal"><span class="pre">build()</span></tt></a> method.</p>
</dd></dl>

<dl class="method">
<dt id="pulsar.apps.MultiApp.new_app">
<tt class="descname">new_app</tt><big>(</big><em>App</em>, <em>prefix=None</em>, <em>callable=None</em>, <em>**params</em><big>)</big><a class="reference internal" href="../modules/pulsar/apps.html#MultiApp.new_app"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pulsar.apps.MultiApp.new_app" title="Permalink to this definition">¶</a></dt>
<dd><p>Invoke this method in the <a class="reference internal" href="#pulsar.apps.MultiApp.build" title="pulsar.apps.MultiApp.build"><tt class="xref py py-meth docutils literal"><span class="pre">build()</span></tt></a> method as many times
as the number of <a class="reference internal" href="#pulsar.apps.Application" title="pulsar.apps.Application"><tt class="xref py py-class docutils literal"><span class="pre">Application</span></tt></a> required by this
<a class="reference internal" href="#pulsar.apps.MultiApp" title="pulsar.apps.MultiApp"><tt class="xref py py-class docutils literal"><span class="pre">MultiApp</span></tt></a>.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>App</strong> &#8211; an <a class="reference internal" href="#pulsar.apps.Application" title="pulsar.apps.Application"><tt class="xref py py-class docutils literal"><span class="pre">Application</span></tt></a> class.</li>
<li><strong>prefix</strong> &#8211; The prefix to use for the application,
the prefix is appended to
the application <a class="reference internal" href="../settings.html#settings"><em>config parameters</em></a> and to the
application name. Each call to this methjod must use a different
value of for this parameter. It can be <tt class="docutils literal"><span class="pre">None</span></tt>.</li>
<li><strong>callable</strong> &#8211; optional callable (function of object) used during
initialisation of <em>App</em> (the <a class="reference internal" href="#pulsar.apps.Application.callable" title="pulsar.apps.Application.callable"><tt class="xref py py-class docutils literal"><span class="pre">Application.callable</span></tt></a>).</li>
<li><strong>params</strong> &#8211; additional key-valued parameters used when creating
an instance of <em>App</em>.</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first last">a tuple used by the <a class="reference internal" href="#pulsar.apps.MultiApp.apps" title="pulsar.apps.MultiApp.apps"><tt class="xref py py-meth docutils literal"><span class="pre">apps()</span></tt></a> method.</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

</dd></dl>

</div>
<div class="section" id="get-application">
<h2>Get application<a class="headerlink" href="#get-application" title="Permalink to this headline">¶</a></h2>
<dl class="function">
<dt id="pulsar.apps.get_application">
<tt class="descclassname">pulsar.apps.</tt><tt class="descname">get_application</tt><big>(</big><em>name</em><big>)</big><a class="reference internal" href="../modules/pulsar/apps.html#get_application"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pulsar.apps.get_application" title="Permalink to this definition">¶</a></dt>
<dd><p>Fetch an <a class="reference internal" href="#pulsar.apps.Application" title="pulsar.apps.Application"><tt class="xref py py-class docutils literal"><span class="pre">Application</span></tt></a> associated with <tt class="docutils literal"><span class="pre">name</span></tt> if available.</p>
<p>This function may return an <a class="reference internal" href="../tutorials/coroutine.html#coroutine"><em>asynchronous component</em></a>.
The application name is set during initialisation. Check the
<a class="reference internal" href="#pulsar.apps.Configurator.name" title="pulsar.apps.Configurator.name"><tt class="xref py py-attr docutils literal"><span class="pre">Configurator.name</span></tt></a> attribute for more information.</p>
</dd></dl>

</div>
<div class="section" id="when-monitor-start">
<span id="id2"></span><h2>When monitor start<a class="headerlink" href="#when-monitor-start" title="Permalink to this headline">¶</a></h2>
<p>The application framework provides a way for adding hooks which are executed
every time a new application starts. A hook is registered by:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="kn">from</span> <span class="nn">pulsar.apps</span> <span class="kn">import</span> <span class="n">when_monitor_start</span>

<span class="k">def</span> <span class="nf">myhook</span><span class="p">(</span><span class="n">monitor</span><span class="p">):</span>
    <span class="o">...</span>

<span class="n">when_monitor_start</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">myhook</span><span class="p">)</span>
</pre></div>
</div>
<p>By default, the list of hooks only contains a callback to start the
<a class="reference internal" href="../settings.html#setting-data-store"><em>default data store</em></a> if it needs to.</p>
</div>
</div>


          </div>
        </div>
      </div>
      <div class="sphinxsidebar">
        <div class="sphinxsidebarwrapper"><p class="logo">
<a href="../index.html">
  <img class="logo" width="200" src="../static/pulsar.png" alt="pulsar" title="Pulsar"/>
</a>
</p>
<div class="g-plusone"></div>
<script type="text/javascript">
  window.___gcfg = {lang: 'en-GB'};
  (function() {
    var po = document.createElement('script'); po.type = 'text/javascript'; po.async = true;
    po.src = 'https://apis.google.com/js/plusone.js';
    var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(po, s);
  })();
</script>
<br>
<a href="https://twitter.com/share" class="twitter-share-button" data-size="large">Tweet</a>
<script>!function(d,s,id){var js,fjs=d.getElementsByTagName(s)[0],p=/^http:/.test(d.location)?'http':'https';if(!d.getElementById(id)){js=d.createElement(s);js.id=id;js.src=p+'://platform.twitter.com/widgets.js';fjs.parentNode.insertBefore(js,fjs);}}(document, 'script', 'twitter-wjs');</script>
<br>
  <h3><a href="../index.html">Table Of Contents</a></h3>
  <ul>
<li><a class="reference internal" href="#">Application API</a><ul>
<li><a class="reference internal" href="#configurator">Configurator</a></li>
<li><a class="reference internal" href="#application">Application</a></li>
<li><a class="reference internal" href="#multi-app">Multi App</a></li>
<li><a class="reference internal" href="#get-application">Get application</a></li>
<li><a class="reference internal" href="#when-monitor-start">When monitor start</a></li>
</ul>
</li>
</ul>

  <h4>Previous topic</h4>
  <p class="topless"><a href="protocols.html"
                        title="previous chapter">Protocols/Transports API</a></p>
  <h4>Next topic</h4>
  <p class="topless"><a href="utilities.html"
                        title="next chapter">Tools</a></p>
  <h3>This Page</h3>
  <ul class="this-page-menu">
    <li><a href="../sources/api/application.txt"
           rel="nofollow">Show Source</a></li>
  </ul>
<div id="searchbox" style="display: none">
  <h3>Quick search</h3>
    <form class="search" action="../search.html" method="get">
      <input type="text" name="q" />
      <input type="submit" value="Go" />
      <input type="hidden" name="check_keywords" value="yes" />
      <input type="hidden" name="area" value="default" />
    </form>
    <p class="searchtip" style="font-size: 90%">
    Enter search terms or a module, class or function name.
    </p>
</div>
<script type="text/javascript">$('#searchbox').show(0);</script>
        </div>
      </div>
      <div class="clearer"></div>
    </div>


<div class="footer">
     &copy; Copyright 2011-2014, Luca Sbardella.
   Created using <a href="http://sphinx.pocoo.org/">Sphinx</a> 1.2b1.
 </div>


<script type="text/javascript">

  var _gaq = _gaq || [];
  
  _gaq.push(['_setAccount', 'UA-3900561-8']);
  
  _gaq.push(['_trackPageview']);

  (function() {
    var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
    ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
    var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
  })();

</script>

</body>
</html>